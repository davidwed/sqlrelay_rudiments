






<pre>
<font color="#0000ff">// Copyright (c) 2001  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/unixclientsocket.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/permissions.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;strings.h&gt;</font>

<font color="#a020f0">#ifdef RUDIMENTS_NAMESPACE</font>
<font color="#a52a2a"><b>using</b></font> <font color="#2e8b57"><b>namespace</b></font> rudiments;
<font color="#a020f0">#endif</font>

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argc, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **argv) {

        unixclientsocket clnt;
        clnt.connect(<font color="#ff00ff">&quot;/tmp/handoff.socket&quot;</font>,-<font color="#ff00ff">1</font>,-<font color="#ff00ff">1</font>,<font color="#ff00ff">0</font>,<font color="#ff00ff">1</font>);

        <font color="#a52a2a"><b>for</b></font> (;;) {
                <font color="#2e8b57"><b>int</b></font>   descriptor;
                clnt.receiveFileDescriptor(&amp;descriptor);
                filedescriptor  clientsock;
                clientsock.setFileDescriptor(descriptor);
                clientsock.write(<font color="#ff00ff">&quot;hello&quot;</font>);
                clientsock.close();
        }
}
</pre>


