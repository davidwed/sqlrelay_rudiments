






<pre>
<font color="#0000ff">// Copyright (c) 2001  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/inetclientsocket.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;time.h&gt;</font>

<font color="#a020f0">#ifdef RUDIMENTS_NAMESPACE</font>
<font color="#a52a2a"><b>using</b></font> <font color="#2e8b57"><b>namespace</b></font> rudiments;
<font color="#a020f0">#endif</font>

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argc, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **argv) {

        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>short</b></font> port;
        <font color="#2e8b57"><b>char</b></font>   buffer[<font color="#ff00ff">11</font>];
        inetclientsocket        clnt;

        <font color="#2e8b57"><b>time_t</b></font> starttime=time(<font color="#ff00ff">NULL</font>);

        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; i&lt;<font color="#ff00ff">100000</font>; i++) {
                clnt.connect(<font color="#ff00ff">&quot;localhost&quot;</font>,<font color="#ff00ff">10000</font>,-<font color="#ff00ff">1</font>,-<font color="#ff00ff">1</font>,<font color="#ff00ff">0</font>,<font color="#ff00ff">1</font>);
                clnt.read(&amp;port);
                clnt.close();

                clnt.connect(<font color="#ff00ff">&quot;localhost&quot;</font>,port,-<font color="#ff00ff">1</font>,-<font color="#ff00ff">1</font>,<font color="#ff00ff">0</font>,<font color="#ff00ff">1</font>);
                clnt.read(buffer,<font color="#ff00ff">5</font>);
                clnt.close();
        }

        printf(<font color="#ff00ff">&quot;total real time: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,time(<font color="#ff00ff">NULL</font>)-starttime);
}
</pre>


