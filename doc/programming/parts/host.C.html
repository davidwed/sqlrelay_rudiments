






<pre>
<font color="#0000ff">// Copyright (c) 2002  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/hostentry.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdio.h&gt;</font>

<font color="#a020f0">#ifdef RUDIMENTS_NAMESPACE</font>
<font color="#a52a2a"><b>using</b></font> <font color="#2e8b57"><b>namespace</b></font> rudiments;
<font color="#a020f0">#endif</font>

<font color="#0000ff">// this function takes addr[]={127,1,1,0} and returns &quot;127.1.1.0&quot;</font>
<font color="#2e8b57"><b>char</b></font> *getAddressString(<font color="#2e8b57"><b>int</b></font> length, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> *addr) {
        <font color="#2e8b57"><b>char</b></font>   *address=<font color="#a52a2a"><b>new</b></font> <font color="#2e8b57"><b>char</b></font>[(length*<font color="#ff00ff">4</font>)+<font color="#ff00ff">1</font>];
        address[<font color="#ff00ff">0</font>]=(<font color="#2e8b57"><b>char</b></font>)<font color="#ff00ff">NULL</font>;
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> byte=<font color="#ff00ff">0</font>; byte&lt;length; byte++) {
                sprintf(address,<font color="#ff00ff">&quot;</font><font color="#6a5acd">%s%d</font><font color="#ff00ff">&quot;</font>,address,addr[byte]);
                <font color="#a52a2a"><b>if</b></font> (byte&lt;length-<font color="#ff00ff">1</font>) {
                        sprintf(address,<font color="#ff00ff">&quot;</font><font color="#6a5acd">%s</font><font color="#ff00ff">.&quot;</font>,address);
                }
        }
        <font color="#a52a2a"><b>return</b></font> address;
}

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argc, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **argv) {


        <font color="#0000ff">// get the host information for &quot;localhost&quot;</font>
        hostentry       he;
        he.initialize(<font color="#ff00ff">&quot;localhost&quot;</font>);

        <font color="#0000ff">// print the components individually</font>
        printf(<font color="#ff00ff">&quot;Individually...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;       Name: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getName());
        printf(<font color="#ff00ff">&quot;       Alias list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; he.getAliasList()[i]; i++) {
                printf(<font color="#ff00ff">&quot;              </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getAliasList()[i]);
        }
        printf(<font color="#ff00ff">&quot;       Address type: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getAddressType());
        printf(<font color="#ff00ff">&quot;       Address length: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getAddressLength());
        printf(<font color="#ff00ff">&quot;       Address list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; he.getAddressList()[i]; i++) {
                <font color="#2e8b57"><b>char</b></font>  *addr=getAddressString(he.getAddressLength(),
                                                he.getAddressList()[i]);
                printf(<font color="#ff00ff">&quot;              </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,addr);
                <font color="#a52a2a"><b>delete</b></font>[] addr;
        }
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// use the built in print method</font>
        printf(<font color="#ff00ff">&quot;Built In...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        he.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);



        <font color="#0000ff">// get the host information for &quot;127.0.0.1&quot;</font>
        <font color="#2e8b57"><b>char</b></font>   address[]={<font color="#ff00ff">127</font>,<font color="#ff00ff">0</font>,<font color="#ff00ff">0</font>,<font color="#ff00ff">1</font>};
        he.initialize(address,<font color="#ff00ff">4</font>,AF_INET);

        <font color="#0000ff">// print the components individually</font>
        printf(<font color="#ff00ff">&quot;Individually...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;       Name: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getName());
        printf(<font color="#ff00ff">&quot;       Alias list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; he.getAliasList()[i]; i++) {
                printf(<font color="#ff00ff">&quot;              </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getAliasList()[i]);
        }
        printf(<font color="#ff00ff">&quot;       Address type: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getAddressType());
        printf(<font color="#ff00ff">&quot;       Address length: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,he.getAddressLength());
        printf(<font color="#ff00ff">&quot;       Address list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; he.getAddressList()[i]; i++) {
                <font color="#2e8b57"><b>char</b></font>  *addr=getAddressString(he.getAddressLength(),
                                                he.getAddressList()[i]);
                printf(<font color="#ff00ff">&quot;              </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,addr);
                <font color="#a52a2a"><b>delete</b></font>[] addr;
        }
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// use the built in print method</font>
        printf(<font color="#ff00ff">&quot;Built In...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        he.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
}
</pre>


