






<pre>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/file.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/permissions.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/error.h&gt;</font>

<font color="#a020f0">#ifdef RUDIMENTS_NAMESPACE</font>
<font color="#a52a2a"><b>using</b></font> <font color="#2e8b57"><b>namespace</b></font> rudiments;
<font color="#a020f0">#endif</font>

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argc, <font color="#2e8b57"><b>char</b></font> **argv) {

        file    testfile;
        testfile.create(<font color="#ff00ff">&quot;testfile&quot;</font>,permissions::evalPermString(<font color="#ff00ff">&quot;rw-r--r--&quot;</font>),
                                <font color="#ff00ff">&quot;hello world</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> * <font color="#2e8b57"><b>const</b></font> *attrs=testfile.listAttributes();
        <font color="#a52a2a"><b>if</b></font> (attrs) {
                printf(<font color="#ff00ff">&quot;Attributes:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
                <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; attrs[i]; i++) {
                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font>        *buffer;
                        <font color="#2e8b57"><b>size_t</b></font>               size;
                        testfile.getAttribute(attrs[i],&amp;buffer,&amp;size);
                        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">%s</font><font color="#ff00ff"> = </font><font color="#6a5acd">\&quot;</font><font color="#6a5acd">%s</font><font color="#6a5acd">\&quot;\n</font><font color="#ff00ff">&quot;</font>,attrs[i],buffer);
                }
        } <font color="#a52a2a"><b>else</b></font> {
                printf(<font color="#ff00ff">&quot;Error: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,error::getErrorString());
        }
        printf(<font color="#ff00ff">&quot;-------------------------------</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        testfile.createAttribute(<font color="#ff00ff">&quot;testattr1&quot;</font>,
                                (<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testvalue1&quot;</font>,<font color="#ff00ff">10</font>);
        testfile.createAttribute(<font color="#ff00ff">&quot;testattr2&quot;</font>,
                                (<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testvalue2&quot;</font>,<font color="#ff00ff">10</font>);

        attrs=testfile.listAttributes();
        <font color="#a52a2a"><b>if</b></font> (attrs) {
                printf(<font color="#ff00ff">&quot;Attributes:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
                <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; attrs[i]; i++) {
                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font>        *buffer;
                        <font color="#2e8b57"><b>size_t</b></font>               size;
                        testfile.getAttribute(attrs[i],&amp;buffer,&amp;size);
                        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">%s</font><font color="#ff00ff"> = </font><font color="#6a5acd">\&quot;</font><font color="#6a5acd">%s</font><font color="#6a5acd">\&quot;\n</font><font color="#ff00ff">&quot;</font>,attrs[i],buffer);
                }
        } <font color="#a52a2a"><b>else</b></font> {
                printf(<font color="#ff00ff">&quot;Error: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,error::getErrorString());
        }
        printf(<font color="#ff00ff">&quot;-------------------------------</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        testfile.replaceAttribute(<font color="#ff00ff">&quot;testattr1&quot;</font>,
                                (<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testval1&quot;</font>,<font color="#ff00ff">10</font>);
        testfile.replaceAttribute(<font color="#ff00ff">&quot;testattr2&quot;</font>,
                                (<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testval2&quot;</font>,<font color="#ff00ff">10</font>);

        attrs=testfile.listAttributes();
        <font color="#a52a2a"><b>if</b></font> (attrs) {
                printf(<font color="#ff00ff">&quot;Attributes:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
                <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; attrs[i]; i++) {
                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font>        *buffer;
                        <font color="#2e8b57"><b>size_t</b></font>               size;
                        testfile.getAttribute(attrs[i],&amp;buffer,&amp;size);
                        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">%s</font><font color="#ff00ff"> = </font><font color="#6a5acd">\&quot;</font><font color="#6a5acd">%s</font><font color="#6a5acd">\&quot;\n</font><font color="#ff00ff">&quot;</font>,attrs[i],buffer);
                }
        } <font color="#a52a2a"><b>else</b></font> {
                printf(<font color="#ff00ff">&quot;Error: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,error::getErrorString());
        }
        printf(<font color="#ff00ff">&quot;-------------------------------</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        testfile.setAttribute(<font color="#ff00ff">&quot;testattr1&quot;</font>,(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testval1&quot;</font>,<font color="#ff00ff">10</font>);
        testfile.setAttribute(<font color="#ff00ff">&quot;testattr2&quot;</font>,(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testval2&quot;</font>,<font color="#ff00ff">10</font>);
        testfile.setAttribute(<font color="#ff00ff">&quot;testattr3&quot;</font>,(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testval3&quot;</font>,<font color="#ff00ff">10</font>);
        testfile.setAttribute(<font color="#ff00ff">&quot;testattr4&quot;</font>,(<font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font> *)<font color="#ff00ff">&quot;testval4&quot;</font>,<font color="#ff00ff">10</font>);

        attrs=testfile.listAttributes();
        <font color="#a52a2a"><b>if</b></font> (attrs) {
                printf(<font color="#ff00ff">&quot;Attributes:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
                <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; attrs[i]; i++) {
                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font>        *buffer;
                        <font color="#2e8b57"><b>size_t</b></font>               size;
                        testfile.getAttribute(attrs[i],&amp;buffer,&amp;size);
                        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">%s</font><font color="#ff00ff"> = </font><font color="#6a5acd">\&quot;</font><font color="#6a5acd">%s</font><font color="#6a5acd">\&quot;\n</font><font color="#ff00ff">&quot;</font>,attrs[i],buffer);
                }
        } <font color="#a52a2a"><b>else</b></font> {
                printf(<font color="#ff00ff">&quot;Error: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,error::getErrorString());
        }
        printf(<font color="#ff00ff">&quot;-------------------------------</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        testfile.removeAttribute(<font color="#ff00ff">&quot;testattr1&quot;</font>);
        testfile.removeAttribute(<font color="#ff00ff">&quot;testattr2&quot;</font>);
        testfile.removeAttribute(<font color="#ff00ff">&quot;testattr3&quot;</font>);
        testfile.removeAttribute(<font color="#ff00ff">&quot;testattr4&quot;</font>);

        attrs=testfile.listAttributes();
        <font color="#a52a2a"><b>if</b></font> (attrs) {
                printf(<font color="#ff00ff">&quot;Attributes:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
                <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; attrs[i]; i++) {
                        <font color="#2e8b57"><b>unsigned</b></font> <font color="#2e8b57"><b>char</b></font>        *buffer;
                        <font color="#2e8b57"><b>size_t</b></font>               size;
                        testfile.getAttribute(attrs[i],&amp;buffer,&amp;size);
                        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">%s</font><font color="#ff00ff"> = </font><font color="#6a5acd">\&quot;</font><font color="#6a5acd">%s</font><font color="#6a5acd">\&quot;\n</font><font color="#ff00ff">&quot;</font>,attrs[i],buffer);
                }
        } <font color="#a52a2a"><b>else</b></font> {
                printf(<font color="#ff00ff">&quot;Error: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,error::getErrorString());
        }

        testfile.close();

        file::remove(<font color="#ff00ff">&quot;testfile&quot;</font>);
}
</pre>


