<html>
<head>
<title>firstworks   Programming with Rudiments using the Utility Classes</title>
<link href="../css/styles.css" rel="stylesheet">
</head>
<body>

<span class="heading">Programming with Rudiments using the Utility Classes</span><br><br>

<ul>
<li><a href="#environment">Using the Environment Class</a></li>
<li><a href="#commandline">Using the Command Line Class</a></li>
<li><a href="#parameterstring">Using the Parameter String Class</a></li>
<li><a href="#datetime">Using the Date/Time Class</a></li>
<li><a href="#timezonefile">Using the Timezonefile Class</a></li>
<li><a href="#filesystem">Using the Filesystem Class</a></li>
<li><a href="#logger">Using the Logger Class</a></li>
<li><a href="#memorypool">Using the Memory Pool Class</a></li>
<li><a href="#permissions">Using the Permissions Class</a></li>
<li><a href="#randomnumber">Using the Random Number Class</a></li>
<li><a href="#regularexpression">Using the Regular Expression Class</a></li>
<li><a href="#semaphoreset">Using the Semaphore Set Class</a></li>
<li><a href="#sharedmemory">Using the Shared Memory Class</a></li>
<li><a href="#signal">Using the Signal Classes</a></li>
<li><a href="#stringbuffer">Using the String Buffer Class</a></li>
<li><a href="#variablebuffer">Using the Variable Buffer Class</a></li>
<li><a href="#charstring">Using the Charstring Class</a></li>
<li><a href="#xmlsax">Using the XML SAX Class</a></li>
<li><a href="#xmldom">Using the XML DOM Classes</a></li>
<li><a href="#dtd">Using the DTD Class</a></li>
<li><a href="#passwdentry">Using the Password Entry Class</a></li>
<li><a href="#shadowentry">Using the Shadow Entry Class</a></li>
<li><a href="#groupentry">Using the Group Entry Class</a></li>
<li><a href="#hostentry">Using the Host Entry Class</a></li>
<li><a href="#protocolentry">Using the Protocol Entry Class</a></li>
<li><a href="#serviceentry">Using the Service Entry Class</a></li>
<li><a href="#rpcentry">Using the RPC Entry Class</a></li>
<li><a href="#linkedlist">Using the Linkedlist Class</a></li>
<li><a href="#dictionary">Using the Dictionary Class</a></li>
</ul>

<a name="environment"></a>
<span class="heading">Using the Environment Class</span><br><br>

<p>The environment class allows you to get or set the value of environment
variables.  The following example gets, sets and resets the environment
variable TEST.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2003  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/environment.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;unistd.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdlib.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        environment     env;

        <font color="#0000f8">// print the environment variable &quot;TEST&quot;</font>
        printf(<font color="#f800f8">&quot;TEST=</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,env.getValue(<font color="#f800f8">&quot;TEST&quot;</font>));

        <font color="#0000f8">// set the value of &quot;TEST&quot; to &quot;value&quot;</font>
        <font color="#a02828"><b>if</b></font> (env.setValue(<font color="#f800f8">&quot;TEST&quot;</font>,<font color="#f800f8">&quot;value&quot;</font>)) {
                printf(<font color="#f800f8">&quot;TEST=</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,env.getValue(<font color="#f800f8">&quot;TEST&quot;</font>));
        } <font color="#a02828"><b>else</b></font> {
                printf(<font color="#f800f8">&quot;setValue() failed</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }

        <font color="#0000f8">// set the value of &quot;TEST&quot; to &quot;newvalue&quot;</font>
        <font color="#a02828"><b>if</b></font> (env.setValue(<font color="#f800f8">&quot;TEST&quot;</font>,<font color="#f800f8">&quot;newvalue&quot;</font>)) {
                printf(<font color="#f800f8">&quot;TEST=</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,env.getValue(<font color="#f800f8">&quot;TEST&quot;</font>));
        } <font color="#a02828"><b>else</b></font> {
                printf(<font color="#f800f8">&quot;setValue() failed</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }

        <font color="#0000f8">// remove &quot;TEST&quot; from the environment</font>
        env.remove(<font color="#f800f8">&quot;TEST&quot;</font>);

        <font color="#0000f8">// print the (non-existent) environment variable &quot;TEST&quot;</font>
        printf(<font color="#f800f8">&quot;TEST=</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,env.getValue(<font color="#f800f8">&quot;TEST&quot;</font>));
}
</pre>


<a name="commandline"></a>
<span class="heading">Using the Command Line Class</span><br><br>

<p>Most programs take command line options in the option/value pair format:</p>
<p>program -option value -option value ...</p>
<p>The commandline class makes it easy to deal with command line options of
this format.  Below is some code illustrating the use of the commandline 
class.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/commandline.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;unistd.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdlib.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        commandline     cmdline(argv,argc);

        <font color="#0000f8">// if -help was specified, display a usage message</font>
        <font color="#a02828"><b>if</b></font> (cmdline.found(<font color="#f800f8">&quot;-help&quot;</font>)) {
                printf(<font color="#f800f8">&quot;usage:  divide -divisor number -dividend number</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
                exit(<font color="#f800f8">0</font>);
        }

        <font color="#0000f8">// If -divisor and -dividend are supplied, use them.  Otherwise</font>
        <font color="#0000f8">// display an error message.</font>
        <font color="#a02828"><b>if</b></font> (cmdline.found(<font color="#f800f8">&quot;-divisor&quot;</font>) &amp;&amp; cmdline.found(<font color="#f800f8">&quot;-dividend&quot;</font>)) {
                <font color="#288850"><b>double</b></font>  divisor=atof(cmdline.value(<font color="#f800f8">&quot;-divisor&quot;</font>));
                <font color="#288850"><b>double</b></font>  dividend=atof(cmdline.value(<font color="#f800f8">&quot;-dividend&quot;</font>));
                printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%0.2f</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,divisor/dividend);
        } <font color="#a02828"><b>else</b></font> {
                printf(<font color="#f800f8">&quot;You must supply a divisor and a dividend.</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }
}
</pre>


<a name="parameterstring"></a>
<span class="heading">Using the Parameter String Class</span><br><br>

<p>Sometimes a function needs to take an arbitrary set of parameters.  For
example, a function for connecting to a database may need host, port, socket,
username and password, any of which could be omitted depending on the
database.  Though C++ support methods which take an arbitrary number of
parameters, sometimes it is more convenient to for the method to accept a
single string parameter with name/value pairs in it instead.</p>

<p>The parameterstring class provides methods for parsing and accessing
a parameter string of the following form:</p>

<blockquote>
name1='value1';name2='value2';name3='value3'
</blockquote>

<p>The single quotes are optional.  If a parameter needs to contain a single
quote, then it can be escaped as follows:</p>

<blockquote>
name='\'value\''
</blockquote>

<p>Backslashes can be similarly escaped:</p>

<blockquote>
name='\\value\\'
</blockquote>

<pre>
...
</pre>


<a name="datetime"></a>
<span class="heading">Using the Date/Time Class</span><br><br>

<p>One of the most difficult things to do in a Unix environment is deal with
dates and times.  The "standard" functions and structures associated with 
dates and times are complex, vary widely from platform to platform and in
many cases are not thread safe.  The datetime class attempts to rectify this
situation.</p>

<p>The datetime class allows you to query and set the system clock. If your
platform has a working real-time-clock (/dev/rtc), then you can query or set
the hardware clock as well.  Note that your program must run as root in order
to set the system or hardware clock.  Since it is common for the system clock
to be set to the local time zone and the hardware clock to be set to GMT,
a method is provided for converting the hardware clock time to the system's
time zone.</p>

<p>Additionally there is a method for switching the time zone of the time
currently represented in the class.</p>

<p>The datetime class also provides methods for converting between several
common ways of representing time.  Such as a formatted string, the number of
seconds since 1970 and "struct tm".</p>

<p>There are also methods for adding discrete amounts of time to the time
currently stored in the class.  You can, for example add 150 seconds to 
"12:30:50 01/02/2003 EST" and get "12:32:20 01/02/2003 EST".  You can add
negative numbers to subtract time.</p>

<p>Below is some code illustrating the use of the datetime class.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/datetime.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdlib.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// set current time zone to America/New_York</font>
        printf(<font color="#f800f8">&quot;setting TZ=America/New_York...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        environment     env;
        env.setValue(<font color="#f800f8">&quot;TZ&quot;</font>,<font color="#f800f8">&quot;America/New_York&quot;</font>);

        <font color="#0000f8">// get the current date</font>
        datetime        dt;
        dt.getSystemDateAndTime();

        <font color="#0000f8">// Write out the different parts of the date.</font>
        printf(<font color="#f800f8">&quot;Hour       : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getHour());
        printf(<font color="#f800f8">&quot;Minutes    : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getMinutes());
        printf(<font color="#f800f8">&quot;Seconds    : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getSeconds());
        printf(<font color="#f800f8">&quot;Month      : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getMonth());
        printf(<font color="#f800f8">&quot;DayOfMonth : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getDayOfMonth());
        printf(<font color="#f800f8">&quot;DayOfWeek  : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getDayOfWeek());
        printf(<font color="#f800f8">&quot;DayOfYear  : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getDayOfYear());
        printf(<font color="#f800f8">&quot;Year       : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getYear());
        printf(<font color="#f800f8">&quot;Daylight Savings Time : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.isDaylightSavingsTime());
        printf(<font color="#f800f8">&quot;Time Zone             : </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getTimeZoneString());
        printf(<font color="#f800f8">&quot;Offset from GMT       : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getTimeZoneOffset());
        printf(<font color="#f800f8">&quot;Seconds since 1970    : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getEpoch());
        printf(<font color="#f800f8">&quot;Date String           : </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getString());

        <font color="#0000f8">// use static methods to translate between formats</font>
        <font color="#288850"><b>char</b></font>    *string=datetime::getString(dt.getEpoch());
        printf(<font color="#f800f8">&quot;String from Epoch     : </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,string);
        <font color="#a02828"><b>delete</b></font>[] string;
        string=datetime::getString(dt.getTm());
        printf(<font color="#f800f8">&quot;String from tm        : </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,string);

        <font color="#0000f8">// use static methods to translate between formats</font>
        <font color="#288850"><b>time_t</b></font>  epoch=datetime::getEpoch(string);
        printf(<font color="#f800f8">&quot;Epoch from String     : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,epoch);
        <font color="#a02828"><b>delete</b></font>[] string;
        epoch=datetime::getEpoch(dt.getTm());
        printf(<font color="#f800f8">&quot;Epoch from tm         : </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,epoch);

        <font color="#0000f8">// get time from hardware clock</font>
        dt.getHardwareDateAndTime(<font color="#f800f8">&quot;GMT&quot;</font>);
        printf(<font color="#f800f8">&quot;Hardware Clock (assuming GMT): </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getString());

        <font color="#0000f8">// get time from hardware clock adjusting for timezone</font>
        dt.getAdjustedHardwareDateAndTime(<font color="#f800f8">&quot;GMT&quot;</font>);
        printf(<font color="#f800f8">&quot;Adjusted Hardware Clock      : </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getString());

        <font color="#0000f8">// switch time zones</font>
        dt.adjustTimeZone(<font color="#f800f8">&quot;MST&quot;</font>);
        printf(<font color="#f800f8">&quot;Adjusting time zone to Mountain time: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dt.getString());
}
</pre>

<a name="timezonefile"></a>
<span class="heading">Using the Timezonefile Class</span><br><br>

<p>While I was working on timezone support in the datetime class I originally
thought that it might be useful to be able to parse timezone files.  I could not
find any standard C functions for parsing them, so I wrote a class that parses
them.</p>

<p>It turned out to be of very limited value, but it works and I never removed
it.  So, if you need such functionality, it exists.</p>

<pre>
<font color="#0000ff">// Copyright (c) 2003  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/timezonefile.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdlib.h&gt;</font>

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argc, <font color="#2e8b57"><b>char</b></font> **argv) {

        <font color="#0000ff">// parse the timezone file specified in the first argument</font>
        timezonefile    tz;
        <font color="#a52a2a"><b>if</b></font> (!tz.parseFile(argv[<font color="#ff00ff">1</font>])) {
                exit(<font color="#ff00ff">1</font>);
        }

        <font color="#0000ff">// print using built-in method</font>
        tz.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// print manually</font>
        printf(<font color="#ff00ff">&quot;ttisgmtcnt: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,tz.getIsGMTCount());
        printf(<font color="#ff00ff">&quot;ttisstdcnt: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,tz.getIsSTDCount());
        printf(<font color="#ff00ff">&quot;leapcnt: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,tz.getLeapCount());
        printf(<font color="#ff00ff">&quot;timecnt: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,tz.getTimeCount());
        printf(<font color="#ff00ff">&quot;typecnt: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,tz.getTypeCount());
        printf(<font color="#ff00ff">&quot;charcnt: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,tz.getCharacterCount());
        <font color="#2e8b57"><b>int</b></font>     i;
        <font color="#a52a2a"><b>for</b></font> (i=<font color="#ff00ff">0</font>; i&lt;tz.getTimeCount(); i++) {
                printf(<font color="#ff00ff">&quot;transitiontime[</font><font color="#6a5acd">%d</font><font color="#ff00ff">]: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,i,tz.getTransitionTime(i));
        }
        <font color="#a52a2a"><b>for</b></font> (i=<font color="#ff00ff">0</font>; i&lt;tz.getTimeCount(); i++) {
                printf(<font color="#ff00ff">&quot;localtime[</font><font color="#6a5acd">%d</font><font color="#ff00ff">]: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,i,tz.getLocalTimes(i));
        }
        <font color="#a52a2a"><b>for</b></font> (i=<font color="#ff00ff">0</font>; i&lt;tz.getTypeCount(); i++) {
                printf(<font color="#ff00ff">&quot;ttinfo[</font><font color="#6a5acd">%d</font><font color="#ff00ff">] {</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,i);
                printf(<font color="#ff00ff">&quot;        tt_gmtoff: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        tz.getTimeTypeInfo(i)-&gt;tt_gmtoff);
                printf(<font color="#ff00ff">&quot;        tt_isdst: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        tz.getTimeTypeInfo(i)-&gt;tt_isdst);
                printf(<font color="#ff00ff">&quot;        tt_abbrind: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        tz.getTimeTypeInfo(i)-&gt;tt_abbrind);
                printf(<font color="#ff00ff">&quot;}</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        }
        printf(<font color="#ff00ff">&quot;rawtimezonestring: &quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; i&lt;tz.getCharacterCount(); i++) {
                <font color="#a52a2a"><b>if</b></font> (tz.getRawTimeZoneString()[i]==(<font color="#2e8b57"><b>char</b></font>)<font color="#ff00ff">NULL</font>) {
                        printf(<font color="#ff00ff">&quot; &quot;</font>);
                }
                printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">%c</font><font color="#ff00ff">&quot;</font>,tz.getRawTimeZoneString()[i]);
        }
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (i=<font color="#ff00ff">0</font>; i&lt;tz.getLeapCount(); i++) {
                printf(<font color="#ff00ff">&quot;leapsecondtime[</font><font color="#6a5acd">%d</font><font color="#ff00ff">]: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,i,
                                        tz.getLeapSecondTime(i));
                printf(<font color="#ff00ff">&quot;totalleapseconds[</font><font color="#6a5acd">%d</font><font color="#ff00ff">]: </font><font color="#6a5acd">%ld</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,i,
                                        tz.getTotalLeapSeconds(i));
        }
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> counter=<font color="#ff00ff">0</font>; counter&lt;tz.getTypeCount(); counter++) {
                printf(<font color="#ff00ff">&quot;timezonestrings[</font><font color="#6a5acd">%d</font><font color="#ff00ff">]=</font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,counter,
                                        tz.getTimeZoneString(counter));
        }
        <font color="#a52a2a"><b>for</b></font> (i=<font color="#ff00ff">0</font>; i&lt;tz.getIsSTDCount(); i++) {
                printf(<font color="#ff00ff">&quot;transstdwall[</font><font color="#6a5acd">%d</font><font color="#ff00ff">]: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,i,
                                        tz.getStandardOrWallIndicator(i));
        }
        <font color="#a52a2a"><b>for</b></font> (i=<font color="#ff00ff">0</font>; i&lt;tz.getIsGMTCount(); i++) {
                printf(<font color="#ff00ff">&quot;transutclocal[</font><font color="#6a5acd">%d</font><font color="#ff00ff">]: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,i,
                                        tz.getUTCOrLocalIndicator(i));
        }
}
</pre>

<a name="filesystem"></a>
<span class="heading">Using the Filesystem Class</span><br><br>

<p>The filesystem class provides methods for collecting statistics about a
filesystem.  The "standard" function for getting filesystem statistics
is either statfs or statvfs.  Few operating systems implement statvfs and the
structure returned by statfs varies greatly between operating systems.  The
filesystem class attempts to remedy this situation.  However, no operating
system supports every method in the filesystem class.</p>

<pre>
<font color="#0000ff">// Copyright (c) 2003  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/filesystem.h&gt;</font>
<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdio.h&gt;</font>

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argv, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **argc) {

        filesystem      fs;
        fs.initialize(<font color="#ff00ff">&quot;/&quot;</font>);

        printf(<font color="#ff00ff">&quot;root fileststem stats:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;        type:                           0x</font><font color="#6a5acd">%08x</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getType());
        printf(<font color="#ff00ff">&quot;        block size:                     </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getBlockSize());
        printf(<font color="#ff00ff">&quot;        optimum tranfer block size:     </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getOptimumTransferBlockSize());
        printf(<font color="#ff00ff">&quot;        total blocks:                   </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getTotalBlocks());
        printf(<font color="#ff00ff">&quot;        free blocks:                    </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getFreeBlocks());
        printf(<font color="#ff00ff">&quot;        available blocks:               </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getAvailableBlocks());
        printf(<font color="#ff00ff">&quot;        total nodes:                    </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getTotalFileNodes());
        printf(<font color="#ff00ff">&quot;        free nodes:                     </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getFreeFileNodes());
        printf(<font color="#ff00ff">&quot;        available nodes:                </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getAvailableFileNodes());
        printf(<font color="#ff00ff">&quot;        filesystem id:                  </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getFileSystemId());
        printf(<font color="#ff00ff">&quot;        maximum file name length:       </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getMaximumFileNameLength());
        printf(<font color="#ff00ff">&quot;        owner:                          </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getOwner());
        printf(<font color="#ff00ff">&quot;        sync writes:                    </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getSyncWrites());
        printf(<font color="#ff00ff">&quot;        async writes:                   </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getAsyncWrites());
        printf(<font color="#ff00ff">&quot;        fs type name:                   </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getTypeName());
        printf(<font color="#ff00ff">&quot;        mount point:                    </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getMountPoint());
        printf(<font color="#ff00ff">&quot;        sync reads:                     </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getSyncReads());
        printf(<font color="#ff00ff">&quot;        async reads:                    </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getAsyncReads());
        printf(<font color="#ff00ff">&quot;        device name:                    </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getDeviceName());
        printf(<font color="#ff00ff">&quot;        fs specific string:             </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                fs.getFilesystemSpecificString());
}
</pre>

<a name="logger"></a>
<span class="heading">Using the Logger Class</span><br><br>

<p>The logger class and associated logdestination classes provide a framework
for generating log messages from applications.  An application can define a set
of logdestinations and attach them to an instance of the logger class.  Then,
when the application calls one of the write() methods of the logger class, the
log message is written to each of the logdestinations.  For example, an
application could simultaneously log to stderr and to a file.  Currently stdout,
stderr, file and syslog logdestinations are supported.  If an application needs
to send one set of log messages to one destination and another set to a
different destinations, it can create two instances of the logger class and use
one for each set of messages.</p>

<p>The following example illustrates use of the logger class.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/logger.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        logger                  lg;

        syslogdestination       sd;
        filedestination         fd;
        stdoutdestination       sod;
        stderrdestination       sed;

        <font color="#0000f8">// initialize and add a syslog log destination</font>
        sd.open(<font color="#f800f8">&quot;logtest&quot;</font>,LOG_CONS,LOG_USER,LOG_INFO);
        lg.addLogDestination(&amp;sd);

        <font color="#0000f8">// initialize and add a file log destination</font>
        fd.open(<font color="#f800f8">&quot;test.log&quot;</font>);
        lg.addLogDestination(&amp;fd);

        <font color="#0000f8">// add a standard output log destination</font>
        lg.addLogDestination(&amp;sod);

        <font color="#0000f8">// add a standard error log destination</font>
        lg.addLogDestination(&amp;sed);

        <font color="#0000f8">// write a string, character, long and float value to the log, along</font>
        <font color="#0000f8">// with a standard log header for each</font>
        <font color="#288850"><b>char</b></font>    *header=logger::logHeader(<font color="#f800f8">&quot;logtest&quot;</font>);
        lg.write(header,<font color="#f800f8">0</font>,<font color="#f800f8">&quot;test&quot;</font>);
        lg.write(header,<font color="#f800f8">0</font>,<font color="#f800f8">'t'</font>);
        lg.write(header,<font color="#f800f8">0</font>,(<font color="#288850"><b>long</b></font>)<font color="#f800f8">12345</font>);
        lg.write(header,<font color="#f800f8">0</font>,<font color="#f800f8">123.45</font>);
        <font color="#a02828"><b>delete</b></font>[] header;

        <font color="#0000f8">// remove all log destinations</font>
        lg.removeAllLogDestinations();

        <font color="#0000f8">// add each of the log destinations back</font>
        lg.addLogDestination(&amp;sd);
        lg.addLogDestination(&amp;fd);
        lg.addLogDestination(&amp;sod);
        lg.addLogDestination(&amp;sed);

        <font color="#0000f8">// remove them one by one</font>
        lg.removeLogDestination(&amp;sd);
        lg.removeLogDestination(&amp;fd);
        lg.removeLogDestination(&amp;sod);
        lg.removeLogDestination(&amp;sed);
        lg.removeAllLogDestinations();

        <font color="#0000f8">// close the syslog log destination</font>
        sd.close();

        <font color="#0000f8">// close the file log destination</font>
        fd.close();
}
</pre>

<a name="memorypool"></a>
<span class="heading">Using the Memory Pool Class</span><br><br>

<p>The memory pool class implements a pool of memory that starts with an
initial buffer and grows dynamically as needed.  Each time the pool is freed,
the dynamic buffers are deallocated.  After a configurable number of free's,
the initial buffer is resized to the average amount of memory that was
requested between free's since the last time it resized.</p>

<p>The memory pool class is especially useful for applications that do the same
task over and over where varying amounts of memory are required during each
iteration.  The class is particularly efficient in cases where memory
requirements are fairly constant between iterations with sporadic requirements
for lots of memory or where the memory requirements steadily get larger or 
smaller across iterations.</p>

<p>Using a memory pool can be faster than allocating memory on demand, then
deallocating it later and more efficient than using static buffers that are
large enough to contain the largest possible data.</p>

<p>The following code connects to a server on the local machine and reads
variable/value pairs from it.</p>

<PRE>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/memorypool.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/inetclientsocket.h&gt;</font>

<font color="#a020f0">#define OPTIMISTIC_VARIABLE_COUNT       </font><font color="#f800f8">5</font>
<font color="#a020f0">#define OPTIMISTIC_VARIABLE_LENGTH      </font><font color="#f800f8">10</font>
<font color="#a020f0">#define OPTIMISTIC_VALUE_LENGTH         </font><font color="#f800f8">20</font>

main() {

        <font color="#0000f8">// calculate an optimistic initial size for the memory pool</font>
        <font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>long</b></font>   initialsize=OPTIMISTIC_VARIABLE_COUNT*
                                        ((<font color="#f800f8">2</font>*<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>char</b></font> *))+
                                        OPTIMISTIC_VARIABLE_LENGTH+<font color="#f800f8">1</font>+
                                        OPTIMISTIC_VALUE_LENGTH+<font color="#f800f8">1</font>);

        <font color="#0000f8">// create a memory pool: grow by 50 bytes when necessary and</font>
        <font color="#0000f8">// re-evaluate the initial size every 10 iterations</font>
        memorypool      *mp=<font color="#a02828"><b>new</b></font> memorypool(initialsize,<font color="#f800f8">50</font>,<font color="#f800f8">10</font>);

        <font color="#0000f8">// create an inet client socket, connect to localhost on port 1000</font>
        inetclientsocket        *cis=<font color="#a02828"><b>new</b></font> inetclientsocket();
        cis-&gt;connectToServer(<font color="#f800f8">&quot;localhost&quot;</font>,<font color="#f800f8">1000</font>,<font color="#f800f8">0</font>,<font color="#f800f8">1</font>);

        <font color="#a02828"><b>for</b></font> (;;) {

                <font color="#0000f8">// get the number of fields</font>
                <font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>short</b></font>  fieldcount;
                <font color="#a02828"><b>if</b></font> (cis-&gt;read(&amp;fieldcount)!=<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>short</b></font>)) {
                        <font color="#a02828"><b>break</b></font>;
                }

                <font color="#0000f8">// if the fieldcount is 0, that's the end</font>
                <font color="#a02828"><b>if</b></font> (fieldcount==<font color="#f800f8">0</font>) {
                        mp-&gt;free();
                        <font color="#a02828"><b>break</b></font>;
                }

                <font color="#0000f8">// create arrays of pointers to the variables/values</font>
                <font color="#288850"><b>char</b></font>    **vars=(<font color="#288850"><b>char</b></font> **)mp-&gt;malloc(fieldcount*<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>char</b></font> *));
                <font color="#288850"><b>char</b></font>    **vals=(<font color="#288850"><b>char</b></font> **)mp-&gt;malloc(fieldcount*<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>char</b></font> *));

                <font color="#0000f8">// get the fields</font>
                <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>short</b></font> i=<font color="#f800f8">0</font>; i&lt;fieldcount; i++) {

                        <font color="#0000f8">// get the length of the variable</font>
                        <font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>short</b></font>  length;
                        <font color="#a02828"><b>if</b></font> (cis-&gt;read(&amp;length)!=<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>short</b></font>)) {
                                <font color="#a02828"><b>break</b></font>;
                        }

                        <font color="#0000f8">// get the variable and null-terminate it</font>
                        vars[i]=mp-&gt;malloc(length+<font color="#f800f8">1</font>);
                        <font color="#a02828"><b>if</b></font> (cis-&gt;read(vars[i],length)!=length) {
                                <font color="#a02828"><b>break</b></font>;
                        }
                        vars[i][length]=(<font color="#288850"><b>char</b></font>)<font color="#f800f8">NULL</font>;

                        <font color="#0000f8">// get the length of the value</font>
                        <font color="#a02828"><b>if</b></font> (cis-&gt;read(&amp;length)!=<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>short</b></font>)) {
                                <font color="#a02828"><b>break</b></font>;
                        }

                        <font color="#0000f8">// get the value and null-terminate it</font>
                        vals[i]=mp-&gt;malloc(length+<font color="#f800f8">1</font>);
                        <font color="#a02828"><b>if</b></font> (cis-&gt;read(vals[i],length)!=length) {
                                <font color="#a02828"><b>break</b></font>;
                        }
                        vals[i][length]=(<font color="#288850"><b>char</b></font>)<font color="#f800f8">NULL</font>;
                }

                <font color="#0000f8">// do something interesting with the variable/value pairs here...</font>

                <font color="#0000f8">// free the memory pool</font>
                mp-&gt;free();
        }

        cis-&gt;close();
        <font color="#a02828"><b>delete</b></font> cis;

        <font color="#a02828"><b>delete</b></font> mp;
}
</PRE>

<a name="permissions"></a>
<span class="heading">Using the Permissions Class</span><br><br>

<p>The permissions class provides simple methods for generating permissions.
The output of these methods can be used whenever a function takes an argument
of type mode_t.  Below is some code illustrating the use of the permissions
class.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/permissions.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/types.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/stat.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;fcntl.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;unistd.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {


        <font color="#0000f8">// Create a file with rw-r--r-- permissions</font>
        <font color="#288850"><b>int</b></font>     fd=open(<font color="#f800f8">&quot;/tmp/tempfile&quot;</font>,O_RDWR|O_CREAT,
                                permissions::evalPermString(<font color="#f800f8">&quot;rw-r--r--&quot;</font>));


        <font color="#0000f8">// change the permissions to rw-rw-r--</font>
        permissions::setFilePermissions(fd,
                                permissions::evalPermString(<font color="#f800f8">&quot;rw-rw-r--&quot;</font>));


        <font color="#0000f8">// close and delete the file</font>
        close(fd);
        unlink(<font color="#f800f8">&quot;/tmp/tempfile&quot;</font>);


        <font color="#0000f8">// do the same as above using different methods</font>
        fd=open(<font color="#f800f8">&quot;/tmp/tempfile&quot;</font>,O_RDWR|O_CREAT,
                                permissions::ownerReadWrite()|
                                permissions::groupRead()|
                                permissions::othersRead());
        permissions::setFilePermissions(fd,
                                permissions::ownerReadWrite()|
                                permissions::groupReadWrite()|
                                permissions::othersRead());
        close(fd);
        unlink(<font color="#f800f8">&quot;/tmp/tempfile&quot;</font>);
}
</pre>

<a name="randomnumber"></a>
<span class="heading">Using the Random Number Class</span><br><br>

<p>Functions for generating random numbers vary from platform to platform.  
The randomnumber class attempts to rectify this situation.  Below is some code
illustrating the use of the randomnumber class.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdlib.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/datetime.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/randomnumber.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// it's common to seed a random number generator with the number of</font>
        <font color="#0000f8">// seconds since 1970 (the epoch), so we'll get the current date.</font>
        datetime        dt;

        printf(<font color="#f800f8">&quot;A random number between 0 and </font><font color="#6858c8">%d</font><font color="#f800f8">: &quot;</font>,<font color="#f800f8">RAND_MAX</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8">&quot;</font>,randomnumber::generateNumber(dt.getEpoch()));
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        printf(<font color="#f800f8">&quot;A random number between 100 and 1000: &quot;</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8">&quot;</font>,randomnumber::generateScaledNumber(dt.getEpoch(),<font color="#f800f8">100</font>,<font color="#f800f8">1000</font>));
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        printf(<font color="#f800f8">&quot;Another random number between 100 and 1000: &quot;</font>);
        <font color="#288850"><b>int</b></font>     basenumber=randomnumber::generateNumber(dt.getEpoch()+<font color="#f800f8">1</font>);
        <font color="#288850"><b>int</b></font>     scalednumber=randomnumber::scaleNumber(basenumber,<font color="#f800f8">100</font>,<font color="#f800f8">1000</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8">&quot;</font>,scalednumber);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        printf(<font color="#f800f8">&quot;A random number between -100 and -1000: &quot;</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8">&quot;</font>,randomnumber::generateScaledNumber(dt.getEpoch(),
                                                        -<font color="#f800f8">100</font>,-<font color="#f800f8">1000</font>));
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        printf(<font color="#f800f8">&quot;Another random number between -100 and -1000: &quot;</font>);
        basenumber=randomnumber::generateNumber(dt.getEpoch()+<font color="#f800f8">1</font>);
        scalednumber=randomnumber::scaleNumber(basenumber,-<font color="#f800f8">100</font>,-<font color="#f800f8">1000</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8">&quot;</font>,scalednumber);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        printf(<font color="#f800f8">&quot;A random number between -100 and 100: &quot;</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8">&quot;</font>,randomnumber::generateScaledNumber(dt.getEpoch(),-<font color="#f800f8">100</font>,<font color="#f800f8">100</font>));
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        printf(<font color="#f800f8">&quot;Another random number between -100 and 100: &quot;</font>);
        basenumber=randomnumber::generateNumber(dt.getEpoch()+<font color="#f800f8">1</font>);
        scalednumber=randomnumber::scaleNumber(basenumber,-<font color="#f800f8">100</font>,<font color="#f800f8">100</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8">&quot;</font>,scalednumber);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
}
</pre>

<a name="regularexpression"></a>
<span class="heading">Using the Regular Expression Class</span><br><br>

<p>Regular expressions allow a programmer to perform complex string matching 
but methods for using regular expressions vary from platform to platform.  The
regularexpression class attempts to rectify this situation.  Below is some code
illustrating the use of the regularexpression class.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/regularexpression.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// A quick match...</font>
        <font color="#a02828"><b>if</b></font> (regularexpression::match(<font color="#f800f8">&quot;Hello Dave!&quot;</font>,<font color="#f800f8">&quot;.*Dave.*&quot;</font>)) {
                printf(<font color="#f800f8">&quot;The string contains .*Dave.*</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }

        <font color="#0000f8">// If you need to match over and over...</font>
        regularexpression       re(<font color="#f800f8">&quot;.*Dave.*&quot;</font>);
        <font color="#a02828"><b>if</b></font> (re.match(<font color="#f800f8">&quot;Hello Dave!&quot;</font>)) {
                printf(<font color="#f800f8">&quot;The string contains .*Dave.*</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }
        <font color="#a02828"><b>if</b></font> (re.match(<font color="#f800f8">&quot;Goodbye Dave!&quot;</font>)) {
                printf(<font color="#f800f8">&quot;The string contains .*Dave.*</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }
        <font color="#a02828"><b>if</b></font> (re.match(<font color="#f800f8">&quot;Dave is a jerk!&quot;</font>)) {
                printf(<font color="#f800f8">&quot;The string contains .*Dave.*</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }
        <font color="#a02828"><b>if</b></font> (re.match(<font color="#f800f8">&quot;Dave writes cool software!&quot;</font>)) {
                printf(<font color="#f800f8">&quot;The string contains .*Dave.*</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }
        <font color="#a02828"><b>if</b></font> (re.match(<font color="#f800f8">&quot;See ya later Dave!&quot;</font>)) {
                printf(<font color="#f800f8">&quot;The string contains .*Dave.*</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        }

}
</pre>

<a name="semaphoreset"></a>
<span class="heading">Using the Semaphore Set Class</span><br><br>

<p>Semaphores allow seperate processes or threads to synchronize activities.
The standard functions and structures for managing semaphores are complex.  
The sempahoreset class attempts to rectify this situation.  Below is some code
illustrating the use of the semaphoreset class.</p>

<p>There are methods in the semaphoreset class that allow you to get and
set user/group ownership and permissions of a semaphore set that are not 
documented here, but they are straightforward and rarely used.</p>

<p>The first program prints out 1 and 3, the second program prints out 2 and 4.
They use a set of 2 semaphores to synchronize these activities.  No matter
what order the programs are started in, they will always print out 

<p>1<br>2<br>3<br>4<br>1<br>2<br>3<br>4<br>etc.</p>

<p>These programs must both be run to the background.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/types.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/ipc.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/semaphoreset.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/permissions.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/file.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;unistd.h&gt;</font>


<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// create a file called /tmp/sem</font>
        unlink(<font color="#f800f8">&quot;/tmp/sem&quot;</font>);
        file    fd;
        fd.create(<font color="#f800f8">&quot;/tmp/sem&quot;</font>,permissions::evalPermString(<font color="#f800f8">&quot;rw-------&quot;</font>));
        fd.close();

        <font color="#0000f8">// Create a semaphore set keyed to /tmp/sem containing 2 individual</font>
        <font color="#0000f8">// semaphores.  Initialize them to 0 and 1 respectively.</font>
        <font color="#288850"><b>int</b></font>     vals[<font color="#f800f8">2</font>]={<font color="#f800f8">0</font>,<font color="#f800f8">1</font>};
        semaphoreset    sem;
        sem.create(ftok(<font color="#f800f8">&quot;/tmp/sem&quot;</font>,<font color="#f800f8">0</font>),
                        permissions::evalPermString(<font color="#f800f8">&quot;rw-------&quot;</font>),<font color="#f800f8">2</font>,vals);

        <font color="#0000f8">// loop 10 times, printing 2 and 4, synchronizing with another process</font>
        <font color="#0000f8">// using the semaphores.</font>
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; i&lt;<font color="#f800f8">10</font>; i++) {
                sem.wait(<font color="#f800f8">0</font>);
                printf(<font color="#f800f8">&quot;2</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
                sem.signal(<font color="#f800f8">1</font>);

                sem.wait(<font color="#f800f8">0</font>);
                printf(<font color="#f800f8">&quot;4</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
                sem.signal(<font color="#f800f8">1</font>);
        }
}
</pre>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/types.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/ipc.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/semaphoreset.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/permissions.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;unistd.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// attach to the semaphore set keyed to /tmp/sem containing 2 semaphores</font>
        semaphoreset    sem;
        sem.attach(ftok(<font color="#f800f8">&quot;/tmp/sem&quot;</font>,<font color="#f800f8">0</font>),<font color="#f800f8">2</font>);

        <font color="#0000f8">// loop 10 times, printing 1 and 2, synchronizing with another process</font>
        <font color="#0000f8">// using the semaphores</font>
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; i&lt;<font color="#f800f8">10</font>; i++) {
                sem.wait(<font color="#f800f8">1</font>);
                printf(<font color="#f800f8">&quot;1</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
                sem.signal(<font color="#f800f8">0</font>);

                sem.wait(<font color="#f800f8">1</font>);
                printf(<font color="#f800f8">&quot;3</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
                sem.signal(<font color="#f800f8">0</font>);
        }

        unlink(<font color="#f800f8">&quot;/tmp/sem&quot;</font>);
}
</pre>

<a name="sharedmemory"></a>
<span class="heading">Using the Shared Memory Class</span><br><br>

<p>Shared memory allows seperate processes to access a common block of memory.
The standard functions and structures for managing shared memory segments are 
complex.  The sharedmemory class attempts to rectify this situation.  Below is
some code illustrating the use of the sharedmemory class.</p>

<p>There are methods in the sharedmemory class that allow you to get and
set user/group ownership and permissions of a segment that are not 
documented here, but they are straightforward and rarely used.</p>

<p>This program puts some data into shared memory then goes to sleep, giving
another program time to access the segment.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/types.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/ipc.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/sharedmemory.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/permissions.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/file.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;unistd.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;string.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// create a file called /tmp/shm</font>
        unlink(<font color="#f800f8">&quot;/tmp/shm&quot;</font>);
        file    fd;
        fd.create(<font color="#f800f8">&quot;/tmp/shm&quot;</font>,permissions::evalPermString(<font color="#f800f8">&quot;rw-------&quot;</font>));
        fd.close();

        <font color="#0000f8">// create a shared memory segment, keyed to /tmp/shm, 128 bytes long</font>
        sharedmemory    shm;
        shm.create(ftok(<font color="#f800f8">&quot;/tmp/shm&quot;</font>,<font color="#f800f8">0</font>),<font color="#f800f8">128</font>,
                                permissions::evalPermString(<font color="#f800f8">&quot;rw-------&quot;</font>));

        <font color="#0000f8">// write a string into the shared memory</font>
        <font color="#288850"><b>char</b></font>    *shmptr=(<font color="#288850"><b>char</b></font> *)shm.getPointer();
        strcpy(shmptr,<font color="#f800f8">&quot;This string is in shared memory.&quot;</font>);

        <font color="#0000f8">// sleep while another process accesses the shared memory...</font>
        sleep(<font color="#f800f8">1000</font>);
}
</pre>

<p>This program reads the data from shared memory.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/types.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;sys/ipc.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/sharedmemory.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/permissions.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// attach to a shared memory segment keyed to /tmp/shm</font>
        sharedmemory    shm;
        shm.attach(ftok(<font color="#f800f8">&quot;/tmp/shm&quot;</font>,<font color="#f800f8">0</font>));

        <font color="#0000f8">// display the data contained in the shared memory segment</font>
        <font color="#288850"><b>char</b></font>    *shmptr=(<font color="#288850"><b>char</b></font> *)shm.getPointer();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,shmptr);
}
</pre>


<a name="signal"></a>
<span class="heading">Using the Signal Classes</span><br><br>

<p>Signals allow processes to interrupt the execution of other processes.
Signal handlers allow processes to intercept and react to the signals sent to 
them.</p>

<p>Rudiments provides 3 classes for working with signals: signalset, 
signalmanager and signalhandler.

<p>A signalset is just a collection of signals.  The signalset class allows 
a programmer to build up a collection of signals.</p>

<p>The signalmanager class provides methods for sending signals, ignoring
signals, waiting for signals and examining blocked signals.</p>

<p>The signalhandler class provides methods for catching and handling 
signals.</p>

<p>Below is some code illustrating the use of all three classes.  Note that
you'll have to kill this program with a -9.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2001  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/signalclasses.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;unistd.h&gt;</font>

<font color="#288850"><b>void</b></font>    handleSigusr1() {
        printf(<font color="#f800f8">&quot;Got a SIGUSR1!</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
}

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// this program will ignore all signals except SIGUSR1</font>
        signalset       ignoreset;
        ignoreset.addAllSignals();
        ignoreset.removeSignal(<font color="#f800f8">SIGUSR1</font>);
        signalmanager::ignoreSignals(ignoreset.getSignalSet());

        <font color="#0000f8">// when it gets a SIGUSR1, it will run the handleSigusr1() function</font>
        signalhandler   shandler(<font color="#f800f8">SIGUSR1</font>,(<font color="#288850"><b>void</b></font> *)&amp;handleSigusr1);

        <font color="#0000f8">// Loop forever, each time waiting for a signal not in the ignoreset</font>
        <font color="#0000f8">// to be sent. Since SIGUSR1 is the only signal not in the ignoreset,</font>
        <font color="#0000f8">// waitForSignals will fall through only when SIGUSR1 is received.</font>
        <font color="#a02828"><b>while</b></font>(<font color="#f800f8">1</font>) {
                signalmanager::waitForSignals(ignoreset.getSignalSet());
        }
}
</pre>

<a name="stringbuffer"></a>
<span class="heading">Using the String Buffer Class</span><br><br>

<p>The stringbuffer class allows you to manipulate strings of arbitrary length.
You can append data to a stringbuffer or write data at arbitrary positions in
the buffer.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/stringbuffer.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argc, <font color="#288850"><b>char</b></font> **argv) {

        <font color="#0000f8">// create a stringbuffer</font>
        stringbuffer    strb;

        <font color="#0000f8">// append some data to it</font>
        strb.append(<font color="#f800f8">&quot;hello &quot;</font>)-&gt;append(<font color="#f800f8">&quot;there, &quot;</font>)-&gt;append(<font color="#f800f8">&quot;goodbye&quot;</font>);

        <font color="#0000f8">// display the string length and data</font>
        printf(<font color="#f800f8">&quot;Length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,strb.getStringLength());
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,strb.getString());

        <font color="#0000f8">// clear the stringbuffer</font>
        strb.clear();

        <font color="#0000f8">// append 12345 to the string</font>
        strb.append(<font color="#f800f8">&quot;12345&quot;</font>);

        <font color="#0000f8">// set position to 10 and write 12345 again, this will leave a gap</font>
        <font color="#0000f8">// in the string between positions 5 and 10 with garbage in it</font>
        strb.setPosition(<font color="#f800f8">10</font>);
        strb.write(<font color="#f800f8">&quot;12345&quot;</font>);

        <font color="#0000f8">// display the string length and the string</font>
        printf(<font color="#f800f8">&quot;Length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,strb.getStringLength());
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; i&lt;<font color="#f800f8">15</font>; i++) {
                printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%c</font><font color="#f800f8">&quot;</font>,strb.getString()[i]);
        }
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// clear the stringbuffer</font>
        strb.clear();

        <font color="#0000f8">// append an integer to the stringbuffer</font>
        strb.append((<font color="#288850"><b>long</b></font>)<font color="#f800f8">1</font>)-&gt;append(<font color="#f800f8">&quot; &quot;</font>);

        <font color="#0000f8">// append a character to the stringbuffer</font>
        strb.append(<font color="#f800f8">'a'</font>)-&gt;append(<font color="#f800f8">&quot; &quot;</font>);

        <font color="#0000f8">// append a floating point number to the stringbuffer</font>
        strb.append((<font color="#288850"><b>double</b></font>)<font color="#f800f8">2.2</font>)-&gt;append(<font color="#f800f8">&quot; &quot;</font>);

        <font color="#0000f8">// append a floating point number to the stringbuffer with precision</font>
        <font color="#0000f8">// and scale</font>
        strb.append(<font color="#f800f8">2.2</font>,<font color="#f800f8">2</font>,<font color="#f800f8">3</font>);

        <font color="#0000f8">// display the string length and data</font>
        printf(<font color="#f800f8">&quot;Length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,strb.getStringLength());
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,strb.getString());
}
</pre>

<a name="variablebuffer"></a>
<span class="heading">Using the Variable Buffer Class</span><br><br>

<p>The variablebuffer class allows you to manipulate a buffer of arbitrary
length containing binary data.  You can append data to a variablebuffer or
write data at arbitrary positions in the buffer.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/variablebuffer.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argc, <font color="#288850"><b>char</b></font> **argv) {

        <font color="#0000f8">// create a variablebuffer</font>
        variablebuffer  varb(<font color="#f800f8">5</font>,<font color="#f800f8">5</font>);

        <font color="#0000f8">// append some string data to the buffer</font>
        varb.append((<font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>char</b></font> *)<font color="#f800f8">&quot;hello there, goodbye</font><font color="#6858c8">\0</font><font color="#f800f8">&quot;</font>,<font color="#f800f8">21</font>);

        <font color="#0000f8">// display the buffer size and data</font>
        printf(<font color="#f800f8">&quot;Size: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,varb.getSize());
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,varb.getBuffer());

        <font color="#0000f8">// clear the buffer</font>
        varb.clear();

        <font color="#0000f8">// append 12345 to the buffer</font>
        varb.append((<font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>char</b></font> *)<font color="#f800f8">&quot;12345&quot;</font>,<font color="#f800f8">5</font>);

        <font color="#0000f8">// set position to 10 and write 12345 again, this will leave a gap</font>
        <font color="#0000f8">// in the buffer between positions 5 and 10 with garbage in it</font>
        varb.setPosition(<font color="#f800f8">10</font>);
        varb.write((<font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>char</b></font> *)<font color="#f800f8">&quot;12345&quot;</font>,<font color="#f800f8">5</font>);

        <font color="#0000f8">// display the buffer size and the buffer</font>
        printf(<font color="#f800f8">&quot;Size: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,varb.getSize());
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; i&lt;<font color="#f800f8">15</font>; i++) {
                printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%c</font><font color="#f800f8">&quot;</font>,varb.getBuffer()[i]);
        }
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// clear the buffer</font>
        varb.clear();

        <font color="#0000f8">// append an integer to the buffer</font>
        <font color="#288850"><b>long</b></font>    number=<font color="#f800f8">1</font>;
        varb.append((<font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>char</b></font> *)&amp;number,<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>long</b></font>));

        <font color="#0000f8">// append a character to the buffer</font>
        <font color="#288850"><b>char</b></font>    character=<font color="#f800f8">'a'</font>;
        varb.append((<font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>char</b></font> *)&amp;character,<font color="#a02828"><b>sizeof</b></font>(character));

        <font color="#0000f8">// append a floating point number to the buffer</font>
        <font color="#288850"><b>double</b></font>  doublenumber=<font color="#f800f8">2.2</font>;
        varb.append((<font color="#288850"><b>unsigned</b></font> <font color="#288850"><b>char</b></font> *)&amp;doublenumber,<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>double</b></font>));

        <font color="#0000f8">// display the size and data</font>
        printf(<font color="#f800f8">&quot;Size: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,varb.getSize());
        <font color="#288850"><b>long</b></font>    *numptr=(<font color="#288850"><b>long</b></font> *)(varb.getBuffer());
        <font color="#288850"><b>char</b></font>    *charptr=(<font color="#288850"><b>char</b></font> *)(varb.getBuffer()+<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>long</b></font>));
        <font color="#288850"><b>double</b></font>  *doubleptr=(<font color="#288850"><b>double</b></font> *)(varb.getBuffer()+
                                        <font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>long</b></font>)+<font color="#a02828"><b>sizeof</b></font>(<font color="#288850"><b>char</b></font>));
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%d</font><font color="#f800f8"> </font><font color="#6858c8">%c</font><font color="#f800f8"> </font><font color="#6858c8">%f</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,*numptr,*charptr,*doubleptr);
}
</pre>

<a name="string"></a>
<span class="heading">Using the Charstring Class</span><br><br>

<p>The charstring class contains some commonly needed string manipulation and
evaluation functions.  Below is some code illustrating the use of the string
class.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2003  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/charstring.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>


<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// create a new string 50 bytes long</font>
        charstring  s(<font color="#f800f8">50</font>);


        <font color="#0000f8">// set every byte in the string to NULL</font>
        s.zero();


        <font color="#0000f8">// Append &quot;hello there dave&quot; to the string and display it.</font>
        <font color="#0000f8">// The 3rd call to append() only appends the first 4 bytes of &quot;dave !!!&quot;</font>
        s.append(<font color="#f800f8">&quot;hello &quot;</font>);
        s.append(<font color="#f800f8">&quot;there &quot;</font>);
        s.append(<font color="#f800f8">&quot;dave !!!&quot;</font>,<font color="#f800f8">4</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\&quot;\n</font><font color="#f800f8">&quot;</font>,s.getString());


        <font color="#0000f8">// Replace the contents of the string and display it over and over.</font>
        <font color="#0000f8">// Note that the 2nd and 4th call to copyInto() only copy part of the</font>
        <font color="#0000f8">// string passed into them.</font>
        s.copyInto(<font color="#f800f8">&quot;what's &quot;</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\&quot;\n</font><font color="#f800f8">&quot;</font>,s.getString());
        s.copyInto(<font color="#f800f8">&quot;up !!!&quot;</font>,<font color="#f800f8">2</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\&quot;\n</font><font color="#f800f8">&quot;</font>,s.getString());
        s.copyInto(<font color="#f800f8">2</font>,<font color="#f800f8">&quot; !!!&quot;</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\&quot;\n</font><font color="#f800f8">&quot;</font>,s.getString());
        s.copyInto(<font color="#f800f8">6</font>,<font color="#f800f8">&quot;!!!!!!&quot;</font>,<font color="#f800f8">1</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\&quot;\n</font><font color="#f800f8">&quot;</font>,s.getString());


        <font color="#0000f8">// clear the string again.</font>
        s.zero();


        <font color="#0000f8">// Append &quot;hello&quot; to the string.</font>
        s.append(<font color="#f800f8">&quot;hello&quot;</font>);

        <font color="#0000f8">// perform several comparisons, all of which should return 0</font>
        printf(<font color="#f800f8">&quot;compare: </font><font color="#6858c8">%d</font><font color="#f800f8">=0</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,s.compare(<font color="#f800f8">&quot;hello&quot;</font>));
        printf(<font color="#f800f8">&quot;compare: </font><font color="#6858c8">%d</font><font color="#f800f8">=0</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,s.compare(<font color="#f800f8">&quot;hello&quot;</font>,<font color="#f800f8">3</font>));
        printf(<font color="#f800f8">&quot;compare: </font><font color="#6858c8">%d</font><font color="#f800f8">=0</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,s.compareIgnoringCase(<font color="#f800f8">&quot;HELLO&quot;</font>));
        printf(<font color="#f800f8">&quot;compare: </font><font color="#6858c8">%d</font><font color="#f800f8">=0</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,s.compareIgnoringCase(<font color="#f800f8">&quot;HELLO&quot;</font>,<font color="#f800f8">3</font>));

        <font color="#0000f8">// perform several contains() comparisons</font>
        printf(<font color="#f800f8">&quot;contains: </font><font color="#6858c8">\&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\&quot;</font><font color="#f800f8">=llo</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,s.contains(<font color="#f800f8">&quot;llo&quot;</font>));
        printf(<font color="#f800f8">&quot;contains: </font><font color="#6858c8">\&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\&quot;</font><font color="#f800f8">=llo</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,s.contains(<font color="#f800f8">'l'</font>));



        <font color="#0000f8">// duplicate the string and display the duplicated string</font>
        <font color="#288850"><b>char</b></font>    *hello=s.duplicate();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,hello);

        <font color="#0000f8">// make sure to clean up what duplicate() returns</font>
        <font color="#a02828"><b>delete</b></font>[] hello;
}
</pre>

<a name="xmlsax"></a>
<span class="heading">Using the XML SAX Class</span><br><br>

<p>The XML SAX class provides a callback-based framework for parsing XML
documents.  The xmlsax class provides methods for parsing strings of XML or 
XML files.  When it encounters a tag, attribute or other XML component, it
calls one of it's callback methods.  These methods may be overridden by
a child class to perform specific tasks.  The xmlsax class is especially useful
if you can't afford to load the entire document into memory and use the XML DOM
class, or if you just need to extract specific data from an XML file.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/xmlsax.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>class</b></font> myxmlsax : <font color="#a02828"><b>public</b></font> xmlsax {
        <font color="#a02828"><b>public</b></font>:
                        myxmlsax();
        <font color="#a02828"><b>private</b></font>:
                <font color="#288850"><b>int</b></font>     xmlVersionStart();
                <font color="#288850"><b>int</b></font>     xmlVersionEnd();
                <font color="#288850"><b>int</b></font>     doctypeStart(<font color="#288850"><b>char</b></font> *name);
                <font color="#288850"><b>int</b></font>     externalSubset(<font color="#288850"><b>char</b></font> *filename);
                <font color="#288850"><b>int</b></font>     doctypeEnd();
                <font color="#288850"><b>int</b></font>     tagStart(<font color="#288850"><b>char</b></font> *name);
                <font color="#288850"><b>int</b></font>     attributeName(<font color="#288850"><b>char</b></font> *name);
                <font color="#288850"><b>int</b></font>     attributeValue(<font color="#288850"><b>char</b></font> *value);
                <font color="#288850"><b>int</b></font>     text(<font color="#288850"><b>char</b></font> *string);
                <font color="#288850"><b>int</b></font>     tagEnd(<font color="#288850"><b>char</b></font> *name);
                <font color="#288850"><b>int</b></font>     comment(<font color="#288850"><b>char</b></font> *string);
                <font color="#288850"><b>int</b></font>     cdata(<font color="#288850"><b>char</b></font> *string);
                <font color="#288850"><b>void</b></font>    indent(<font color="#288850"><b>int</b></font> spaces);
                <font color="#288850"><b>int</b></font>     ind;
};

myxmlsax::myxmlsax() : xmlsax() {
        ind=<font color="#f800f8">0</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::xmlVersionStart() {
        printf(<font color="#f800f8">&quot;XML version start:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::xmlVersionEnd() {
        printf(<font color="#f800f8">&quot;XML version end:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::doctypeStart(<font color="#288850"><b>char</b></font> *name) {
        printf(<font color="#f800f8">&quot;DOCTYPE start: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,name);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::externalSubset(<font color="#288850"><b>char</b></font> *filename) {
        printf(<font color="#f800f8">&quot;        external subset: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,filename);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::doctypeEnd() {
        printf(<font color="#f800f8">&quot;DOCTYPE end:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>void</b></font>    myxmlsax::indent(<font color="#288850"><b>int</b></font> spaces) {
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; i&lt;spaces; i++) {
                printf(<font color="#f800f8">&quot;  &quot;</font>);
        }
}

<font color="#288850"><b>int</b></font>     myxmlsax::tagStart(<font color="#288850"><b>char</b></font> *name) {
        indent(ind);
        printf(<font color="#f800f8">&quot;tagStart: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,name);
        ind++;
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::attributeName(<font color="#288850"><b>char</b></font> *name) {
        indent(ind+<font color="#f800f8">1</font>);
        printf(<font color="#f800f8">&quot;attribute name: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,name);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::attributeValue(<font color="#288850"><b>char</b></font> *value) {
        indent(ind+<font color="#f800f8">1</font>);
        printf(<font color="#f800f8">&quot;attribute value: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,value);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::text(<font color="#288850"><b>char</b></font> *string) {
        indent(ind+<font color="#f800f8">1</font>);
        printf(<font color="#f800f8">&quot;text: </font><font color="#6858c8">\n</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,string);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::tagEnd(<font color="#288850"><b>char</b></font> *name) {
        ind--;
        indent(ind);
        printf(<font color="#f800f8">&quot;tagEnd: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,name);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::comment(<font color="#288850"><b>char</b></font> *string) {
        indent(ind);
        printf(<font color="#f800f8">&quot;comment: </font><font color="#6858c8">\n</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,string);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}

<font color="#288850"><b>int</b></font>     myxmlsax::cdata(<font color="#288850"><b>char</b></font> *string) {
        indent(ind);
        printf(<font color="#f800f8">&quot;cdata: </font><font color="#6858c8">\n</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,string);
        <font color="#a02828"><b>return</b></font> <font color="#f800f8">1</font>;
}


<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        myxmlsax        x;
        x.parseFile(<font color="#f800f8">&quot;xmls.xml&quot;</font>);
}
</pre>

<a name="xmldom"></a>
<span class="heading">Using the XML DOM Class</span><br><br>

<p>The XML DOM and XML DOM Node classes provide a framework for DOM parsing of
XML documents.  The xmldom class provides methods for parsing the document
and accessing it's root node.  Each node of the document is represented by an
instance of the xmldomnode class.  The xmldomnode class provides methods for
accessing a node's data, attributes, child nodes, parent nodes and sibling
nodes.  Since the xmldom class creates a representation of the XML document
in memory, it should not be used to process arbitrarily large documents which
could exhaust system memory.</p>

<p>The following XML file contains an address book.</p>

<PRE>
<font color="#0000f8">&lt;?</font><font color="#288850"><b>xml</b></font><font color="#288850"><b> </b></font><font color="#288850"><b>version</b></font>=<font color="#f800f8">&quot;1.0&quot;</font><font color="#0000f8">?&gt;</font>
<font color="#008888">&lt;!</font><font color="#a02828"><b>DOCTYPE</b></font> instances <font color="#a02828"><b>SYSTEM</b></font> <font color="#f800f8">&quot;adbook.dtd&quot;</font><font color="#008888">&gt;</font>
<font color="#008888">&lt;</font><font color="#008888">addressbook</font><font color="#008888">&gt;</font>
        <font color="#008888">&lt;</font><font color="#008888">person</font><font color="#008888"> </font><font color="#288850"><b>firstname</b></font>=<font color="#f800f8">&quot;David&quot;</font><font color="#008888"> </font><font color="#288850"><b>middlename</b></font>=<font color="#f800f8">&quot;Lee&quot;</font><font color="#008888"> </font><font color="#288850"><b>lastname</b></font>=<font color="#f800f8">&quot;Muse&quot;</font><font color="#008888">&gt;</font>
                <font color="#008888">&lt;</font><font color="#008888">phones</font><font color="#008888">&gt;</font>
                        <font color="#008888">&lt;</font><font color="#008888">phone</font><font color="#008888"> </font><font color="#288850"><b>location</b></font>=<font color="#f800f8">&quot;home&quot;</font><font color="#008888"> </font><font color="#288850"><b>number</b></font>=<font color="#f800f8">&quot;1-222-333-4444&quot;</font><font color="#008888">/&gt;</font>
                        <font color="#008888">&lt;</font><font color="#008888">phone</font><font color="#008888"> </font><font color="#288850"><b>location</b></font>=<font color="#f800f8">&quot;work&quot;</font><font color="#008888"> </font><font color="#288850"><b>number</b></font>=<font color="#f800f8">&quot;1-333-444-5555&quot;</font><font color="#008888">/&gt;</font>
                        <font color="#008888">&lt;</font><font color="#008888">phone</font><font color="#008888"> </font><font color="#288850"><b>location</b></font>=<font color="#f800f8">&quot;mobile&quot;</font><font color="#008888"> </font><font color="#288850"><b>number</b></font>=<font color="#f800f8">&quot;1-444-555-6666&quot;</font><font color="#008888">/&gt;</font>
                <font color="#008888">&lt;/phones&gt;</font>
                <font color="#008888">&lt;</font><font color="#008888">addresses</font><font color="#008888">&gt;</font>
                        <font color="#008888">&lt;</font><font color="#008888">address</font><font color="#008888"> </font><font color="#288850"><b>location</b></font>=<font color="#f800f8">&quot;home&quot;</font><font color="#008888"> </font><font color="#288850"><b>address</b></font>=<font color="#f800f8">&quot;1234 homestreet dr.&quot;</font><font color="#008888"> </font><font color="#288850"><b>city</b></font>=<font color="#f800f8">&quot;mycity&quot;</font><font color="#008888"> </font><font color="#288850"><b>state</b></font>=<font color="#f800f8">&quot;GA&quot;</font><font color="#008888"> </font><font color="#288850"><b>zip</b></font>=<font color="#f800f8">&quot;12345&quot;</font><font color="#008888">/&gt;</font>
                        <font color="#008888">&lt;</font><font color="#008888">address</font><font color="#008888"> </font><font color="#288850"><b>location</b></font>=<font color="#f800f8">&quot;work&quot;</font><font color="#008888"> </font><font color="#288850"><b>address</b></font>=<font color="#f800f8">&quot;2345 workstreet dr.&quot;</font><font color="#008888"> </font><font color="#288850"><b>city</b></font>=<font color="#f800f8">&quot;mycity&quot;</font><font color="#008888"> </font><font color="#288850"><b>state</b></font>=<font color="#f800f8">&quot;GA&quot;</font><font color="#008888"> </font><font color="#288850"><b>zip</b></font>=<font color="#f800f8">&quot;23456&quot;</font><font color="#008888">/&gt;</font>
                <font color="#008888">&lt;/addresses&gt;</font>
                <font color="#008888">&lt;</font><font color="#008888">emails</font><font color="#008888">&gt;</font>
                        <font color="#008888">&lt;</font><font color="#008888">email</font><font color="#008888"> </font><font color="#288850"><b>location</b></font>=<font color="#f800f8">&quot;home&quot;</font><font color="#008888"> </font><font color="#288850"><b>address</b></font>=<font color="#f800f8">&quot;david.muse@firstworks.com&quot;</font><font color="#008888">/&gt;</font>
                        <font color="#008888">&lt;</font><font color="#008888">email</font><font color="#008888"> </font><font color="#288850"><b>location</b></font>=<font color="#f800f8">&quot;work&quot;</font><font color="#008888"> </font><font color="#288850"><b>address</b></font>=<font color="#f800f8">&quot;david.muse@workemail.com&quot;</font><font color="#008888">/&gt;</font>
                <font color="#008888">&lt;/emails&gt;</font>
        <font color="#008888">&lt;/person&gt;</font>
<font color="#008888">&lt;/addressbook&gt;</font>
</PRE>

<p>The following program parses the addressbook and prints it to the screen.</p>

<PRE>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/xmldom.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;iostream.h&gt;</font>

<font color="#288850"><b>int</b></font>     main() {

        xmldom  x;
        x.parseFile(<font color="#f800f8">&quot;addressbook.xml&quot;</font>);
        x.getRootNode()-&gt;cascadeOnDelete();


        xmldomnode      *addressbook=x.getRootNode()-&gt;getChild(<font color="#f800f8">&quot;addressbook&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; i&lt;addressbook-&gt;getChildCount(); i++) {

                xmldomnode      *person=addressbook-&gt;getChild(i);
                <font color="#a02828"><b>if</b></font> (person-&gt;getType()!=TAG_XMLDOMNODETYPE) {
                        <font color="#a02828"><b>continue</b></font>;
                }

                cout &lt;&lt; person-&gt;getAttribute(<font color="#f800f8">&quot;firstname&quot;</font>)-&gt;getValue() &lt;&lt; <font color="#f800f8">&quot; &quot;</font>;
                cout &lt;&lt; person-&gt;getAttribute(<font color="#f800f8">&quot;middlename&quot;</font>)-&gt;getValue() &lt;&lt; <font color="#f800f8">&quot; &quot;</font>;
                cout &lt;&lt; person-&gt;getAttribute(<font color="#f800f8">&quot;lastname&quot;</font>)-&gt;getValue() &lt;&lt; endl;

                xmldomnode      *phones=person-&gt;getChild(<font color="#f800f8">&quot;phones&quot;</font>);
                cout &lt;&lt; <font color="#f800f8">&quot;Phones:&quot;</font> &lt;&lt; endl;
                <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> j=<font color="#f800f8">0</font>; j&lt;phones-&gt;getChildCount(); j++) {

                        xmldomnode      *phone=phones-&gt;getChild(j);
                        <font color="#a02828"><b>if</b></font> (phone-&gt;getType()!=TAG_XMLDOMNODETYPE) {
                                <font color="#a02828"><b>continue</b></font>;
                        }
                        cout &lt;&lt; <font color="#f800f8">&quot;       &quot;</font>;
                        cout &lt;&lt; phone-&gt;getAttribute(<font color="#f800f8">&quot;location&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; <font color="#f800f8">&quot;: &quot;</font>;
                        cout &lt;&lt; phone-&gt;getAttribute(<font color="#f800f8">&quot;number&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; endl;
                }
                cout &lt;&lt; endl;

                xmldomnode      *addresses=person-&gt;getChild(<font color="#f800f8">&quot;addresses&quot;</font>);
                cout &lt;&lt; <font color="#f800f8">&quot;Addresses:&quot;</font> &lt;&lt; endl;
                <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> j=<font color="#f800f8">0</font>; j&lt;addresses-&gt;getChildCount(); j++) {

                        xmldomnode      *address=addresses-&gt;getChild(j);
                        <font color="#a02828"><b>if</b></font> (address-&gt;getType()!=TAG_XMLDOMNODETYPE) {
                                <font color="#a02828"><b>continue</b></font>;
                        }
                        cout &lt;&lt; <font color="#f800f8">&quot;       &quot;</font>;
                        cout &lt;&lt; address-&gt;getAttribute(<font color="#f800f8">&quot;location&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; <font color="#f800f8">&quot;: &quot;</font>;
                        cout &lt;&lt; address-&gt;getAttribute(<font color="#f800f8">&quot;address&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; <font color="#f800f8">&quot; &quot;</font>;
                        cout &lt;&lt; address-&gt;getAttribute(<font color="#f800f8">&quot;city&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; <font color="#f800f8">&quot;, &quot;</font>;
                        cout &lt;&lt; address-&gt;getAttribute(<font color="#f800f8">&quot;state&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; <font color="#f800f8">&quot; &quot;</font>;
                        cout &lt;&lt; address-&gt;getAttribute(<font color="#f800f8">&quot;zip&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; endl;
                }
                cout &lt;&lt; endl;

                xmldomnode      *emails=person-&gt;getChild(<font color="#f800f8">&quot;emails&quot;</font>);
                cout &lt;&lt; <font color="#f800f8">&quot;Emails:&quot;</font> &lt;&lt; endl;
                <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> j=<font color="#f800f8">0</font>; j&lt;emails-&gt;getChildCount(); j++) {

                        xmldomnode      *email=emails-&gt;getChild(j);
                        <font color="#a02828"><b>if</b></font> (email-&gt;getType()!=TAG_XMLDOMNODETYPE) {
                                <font color="#a02828"><b>continue</b></font>;
                        }
                        cout &lt;&lt; <font color="#f800f8">&quot;       &quot;</font>;
                        cout &lt;&lt; email-&gt;getAttribute(<font color="#f800f8">&quot;location&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; <font color="#f800f8">&quot;: &quot;</font>;
                        cout &lt;&lt; email-&gt;getAttribute(<font color="#f800f8">&quot;address&quot;</font>)-&gt;
                                                        getValue() &lt;&lt; endl;
                }
                cout &lt;&lt; endl;
        }
}
</PRE>

<p>Here is the output of the program above.</p>

<blockquote>
<PRE>
David Lee Muse
Phones:
        home: 1-222-333-4444
        work: 1-333-444-5555
        mobile: 1-444-555-6666

Addresses:
        home: 1234 homestreet dr. mycity, GA 12345
        work: 2345 workstreet dr. mycity, GA 23456

Emails:
        home: david.muse@firstworks.com
        work: david.muse@workemail.com
</PRE>
</blockquote>

<a name="dtd"></a>
<span class="heading">Using the DTD Class</span><br><br>

<p>The DTD class provides methods for parsing an XML DTD.  The result is an
XML DOM tree representing the DTD.  Once parsed, the tree can be accessed
using the xmldom and xmldomnode classes.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/dtd.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// display the contents of dtd.dtd</font>
        dtd     d;
        d.parseFile(<font color="#f800f8">&quot;dtd.dtd&quot;</font>);
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,d.xml()-&gt;getString());
}
</pre>

<a name="passwdentry"></a>
<span class="heading">Using the Password Entry Class</span><br><br>

<p>The passwdentry class allows you to look up entries from /etc/passwd or
from elsewhere if you're using the Name Service Switch.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/passwdentry.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>


<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {


        <font color="#0000f8">// get the password entry for &quot;root&quot;</font>
        passwdentry     pwent;
        pwent.initialize(<font color="#f800f8">&quot;root&quot;</font>);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name:           </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getName());
        printf(<font color="#f800f8">&quot;        Password:       </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getPassword());
        printf(<font color="#f800f8">&quot;        User Id:        </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getUserId());
        printf(<font color="#f800f8">&quot;        Primary Group:  </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getPrimaryGroup());
        printf(<font color="#f800f8">&quot;        Real Name:      </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getRealName());
        printf(<font color="#f800f8">&quot;        Home Directory: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getHomeDirectory());
        printf(<font color="#f800f8">&quot;        Shell:          </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getShell());
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built In...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        pwent.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);



        <font color="#0000f8">// get the password entry for user id 0</font>
        pwent.initialize((uid_t)<font color="#f800f8">0</font>);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name:           </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getName());
        printf(<font color="#f800f8">&quot;        Password:       </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getPassword());
        printf(<font color="#f800f8">&quot;        User Id:        </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getUserId());
        printf(<font color="#f800f8">&quot;        Primary Group:  </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getPrimaryGroup());
        printf(<font color="#f800f8">&quot;        Real Name:      </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getRealName());
        printf(<font color="#f800f8">&quot;        Home Directory: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getHomeDirectory());
        printf(<font color="#f800f8">&quot;        Shell:          </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pwent.getShell());
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built In...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        pwent.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
}
</pre>

<a name="shadowentry"></a>
<span class="heading">Using the Shadow Entry Class</span><br><br>

<p>The shadowentry class allows you to look up entries from /etc/shadow or
from elsewhere if you're using the Name Service Switch.</p>

<pre>
<font color="#0000ff">// Copyright (c) 2003  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/shadowentry.h&gt;</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdio.h&gt;</font>


<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argv, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **argc) {


        <font color="#0000ff">// get the shadow entry for &quot;root&quot;</font>
        shadowentry     spent;
        spent.initialize(<font color="#ff00ff">&quot;root&quot;</font>);

        <font color="#0000ff">// print the components individually</font>
        printf(<font color="#ff00ff">&quot;Individually...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;        Name: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,spent.getName());
        printf(<font color="#ff00ff">&quot;        Encrypted Password: </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,spent.getEncryptedPassword());
        printf(<font color="#ff00ff">&quot;        Last Change: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        spent.getLastChangeDate());
        printf(<font color="#ff00ff">&quot;        Days Before Change Allowed: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        spent.getDaysBeforeChangeAllowed());
        printf(<font color="#ff00ff">&quot;        Days Before Change Required: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        spent.getDaysBeforeChangeRequired());
        printf(<font color="#ff00ff">&quot;        Days Before Expiration Warning: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        spent.getDaysBeforeExpirationWarning());
        printf(<font color="#ff00ff">&quot;        Days Of Inactivity Allowed: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        spent.getDaysOfInactivityAllowed());
        printf(<font color="#ff00ff">&quot;        Expiration Date: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,
                                        spent.getExpirationDate());
        printf(<font color="#ff00ff">&quot;        Flag: </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,spent.getFlag());
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// use the built in print method</font>
        printf(<font color="#ff00ff">&quot;Built In...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        spent.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
}
</pre>

<a name="groupentry"></a>
<span class="heading">Using the Group Entry Class</span><br><br>

<p>The groupentry class allows you to look up entries from /etc/group or
from elsewhere if you're using the Name Service Switch.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/private/config.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/groupentry.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>


<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {


        <font color="#0000f8">// get the group entry for &quot;bin&quot;</font>
        groupentry      grent;
        grent.initialize(<font color="#f800f8">&quot;bin&quot;</font>);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name:           </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getName());
        printf(<font color="#f800f8">&quot;        Password:       </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getPassword());
        printf(<font color="#f800f8">&quot;        Group Id:       </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getGroupId());
        printf(<font color="#f800f8">&quot;        Members:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; grent.getMembers()[i]; i++) {
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getMembers()[i]);
        }
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built in...:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        grent.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);



        <font color="#0000f8">// get the group entry for group id 1</font>
        grent.initialize((gid_t)<font color="#f800f8">1</font>);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name:           </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getName());
        printf(<font color="#f800f8">&quot;        Password:       </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getPassword());
        printf(<font color="#f800f8">&quot;        Group Id:       </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getGroupId());
        printf(<font color="#f800f8">&quot;        Members:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; grent.getMembers()[i]; i++) {
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,grent.getMembers()[i]);
        }
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built in...:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        grent.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
}
</pre>

<a name="hostentry"></a>
<span class="heading">Using the Host Entry Class</span><br><br>

<p>The hostentry class allows you to look up entries from /etc/hosts or
from elsewhere if you're using the Name Service Switch.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/hostentry.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#0000f8">// this function takes addr[]={127,1,1,0} and returns &quot;127.1.1.0&quot;</font>
<font color="#288850"><b>char</b></font> *getAddressString(<font color="#288850"><b>int</b></font> length, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> *addr) {
        <font color="#288850"><b>char</b></font>    *address=<font color="#a02828"><b>new</b></font> <font color="#288850"><b>char</b></font>[(length*<font color="#f800f8">4</font>)+<font color="#f800f8">1</font>];
        address[<font color="#f800f8">0</font>]=(<font color="#288850"><b>char</b></font>)<font color="#f800f8">NULL</font>;
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> byte=<font color="#f800f8">0</font>; byte&lt;length; byte++) {
                sprintf(address,<font color="#f800f8">&quot;</font><font color="#6858c8">%s%d</font><font color="#f800f8">&quot;</font>,address,addr[byte]);
                <font color="#a02828"><b>if</b></font> (byte&lt;length-<font color="#f800f8">1</font>) {
                        sprintf(address,<font color="#f800f8">&quot;</font><font color="#6858c8">%s</font><font color="#f800f8">.&quot;</font>,address);
                }
        }
        <font color="#a02828"><b>return</b></font> address;
}

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {


        <font color="#0000f8">// get the host information for &quot;localhost&quot;</font>
        hostentry       he;
        he.initialize(<font color="#f800f8">&quot;localhost&quot;</font>);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getName());
        printf(<font color="#f800f8">&quot;        Alias list:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; he.getAliasList()[i]; i++) {
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getAliasList()[i]);
        }
        printf(<font color="#f800f8">&quot;        Address type: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getAddressType());
        printf(<font color="#f800f8">&quot;        Address length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getAddressLength());
        printf(<font color="#f800f8">&quot;        Address list:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; he.getAddressList()[i]; i++) {
                <font color="#288850"><b>char</b></font>    *addr=getAddressString(he.getAddressLength(),
                                                he.getAddressList()[i]);
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,addr);
                <font color="#a02828"><b>delete</b></font>[] addr;
        }
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built In...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        he.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);



        <font color="#0000f8">// get the host information for &quot;127.0.0.1&quot;</font>
        <font color="#288850"><b>char</b></font>    address[]={<font color="#f800f8">127</font>,<font color="#f800f8">0</font>,<font color="#f800f8">0</font>,<font color="#f800f8">1</font>};
        he.initialize(address,<font color="#f800f8">4</font>,AF_INET);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name: </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getName());
        printf(<font color="#f800f8">&quot;        Alias list:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; he.getAliasList()[i]; i++) {
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getAliasList()[i]);
        }
        printf(<font color="#f800f8">&quot;        Address type: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getAddressType());
        printf(<font color="#f800f8">&quot;        Address length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,he.getAddressLength());
        printf(<font color="#f800f8">&quot;        Address list:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; he.getAddressList()[i]; i++) {
                <font color="#288850"><b>char</b></font>    *addr=getAddressString(he.getAddressLength(),
                                                he.getAddressList()[i]);
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,addr);
                <font color="#a02828"><b>delete</b></font>[] addr;
        }
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built In...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        he.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
}
</pre>

<a name="protocolentry"></a>
<span class="heading">Using the Protocol Entry Class</span><br><br>

<p>The protocolentry class allows you to look up entries from /etc/protocols
or from elsewhere if you're using the Name Service Switch.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2002  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/protocolentry.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {


        <font color="#0000f8">// get the protocol information for &quot;tcp&quot;</font>
        protocolentry   pe;
        pe.initialize(<font color="#f800f8">&quot;tcp&quot;</font>);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name:           </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pe.getName());
        printf(<font color="#f800f8">&quot;        Alias list:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; pe.getAliasList()[i]; i++) {
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pe.getAliasList()[i]);
        }
        printf(<font color="#f800f8">&quot;        Number:         </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pe.getNumber());
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built In...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        pe.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);



        <font color="#0000f8">// get the protocol information for protocol number 6</font>
        pe.initialize(<font color="#f800f8">6</font>);

        <font color="#0000f8">// print the components individually</font>
        printf(<font color="#f800f8">&quot;Individually...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        printf(<font color="#f800f8">&quot;        Name:           </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pe.getName());
        printf(<font color="#f800f8">&quot;        Alias list:</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        <font color="#a02828"><b>for</b></font> (<font color="#288850"><b>int</b></font> i=<font color="#f800f8">0</font>; pe.getAliasList()[i]; i++) {
                printf(<font color="#f800f8">&quot;                </font><font color="#6858c8">%s</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pe.getAliasList()[i]);
        }
        printf(<font color="#f800f8">&quot;        Number:         </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,pe.getNumber());
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// use the built in print method</font>
        printf(<font color="#f800f8">&quot;Built In...</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        pe.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
}
</pre>


<a name="serviceentry"></a>
<span class="heading">Using the Service Entry Class</span><br><br>

<p>The serviceentry class allows you to look up entries from /etc/services
or from elsewhere if you're using the Name Service Switch.</p>

<pre>
<font color="#0000ff">// Copyright (c) 2003  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/serviceentry.h&gt;</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdio.h&gt;</font>

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argv, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **argc) {


        <font color="#0000ff">// get the service information for &quot;smtp&quot;,&quot;tcp&quot;</font>
        serviceentry    se;
        se.initialize(<font color="#ff00ff">&quot;smtp&quot;</font>,<font color="#ff00ff">&quot;tcp&quot;</font>);

        <font color="#0000ff">// print the components individually</font>
        printf(<font color="#ff00ff">&quot;Individually...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;        Name:           </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getName());
        printf(<font color="#ff00ff">&quot;        Port:           </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getPort());
        printf(<font color="#ff00ff">&quot;        Protocol:       </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getProtocol());
        printf(<font color="#ff00ff">&quot;        Alias list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; se.getAliasList()[i]; i++) {
                printf(<font color="#ff00ff">&quot;                </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getAliasList()[i]);
        }
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// use the built in print method</font>
        printf(<font color="#ff00ff">&quot;Built In...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        se.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);



        <font color="#0000ff">// get the service information for the service on port 25, &quot;tcp&quot;</font>
        se.initialize(<font color="#ff00ff">25</font>,<font color="#ff00ff">&quot;tcp&quot;</font>);

        <font color="#0000ff">// print the components individually</font>
        printf(<font color="#ff00ff">&quot;Individually...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;        Name:           </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getName());
        printf(<font color="#ff00ff">&quot;        Port:           </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getPort());
        printf(<font color="#ff00ff">&quot;        Protocol:       </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getProtocol());
        printf(<font color="#ff00ff">&quot;        Alias list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; se.getAliasList()[i]; i++) {
                printf(<font color="#ff00ff">&quot;                </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,se.getAliasList()[i]);
        }
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// use the built in print method</font>
        printf(<font color="#ff00ff">&quot;Built In...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        se.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
}
</pre>

<a name="rpcentry"></a>
<span class="heading">Using the RPC Entry Class</span><br><br>

<p>The rpcentry class allows you to look up entries from /etc/rpc
or from elsewhere if you're using the Name Service Switch.</p>

<pre>
<font color="#0000ff">// Copyright (c) 2003  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;rudiments/rpcentry.h&gt;</font>

<font color="#a020f0">#include </font><font color="#ff00ff">&lt;stdio.h&gt;</font>

<font color="#2e8b57"><b>int</b></font> main(<font color="#2e8b57"><b>int</b></font> argv, <font color="#2e8b57"><b>const</b></font> <font color="#2e8b57"><b>char</b></font> **argc) {


        <font color="#0000ff">// get the rpc information for &quot;portmap&quot;</font>
        rpcentry        re;
        re.initialize(<font color="#ff00ff">&quot;portmap&quot;</font>);

        <font color="#0000ff">// print the components individually</font>
        printf(<font color="#ff00ff">&quot;Individually...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;        Name:           </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,re.getName());
        printf(<font color="#ff00ff">&quot;        Number:         </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,re.getNumber());
        printf(<font color="#ff00ff">&quot;        Alias list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; re.getAliasList()[i]; i++) {
                printf(<font color="#ff00ff">&quot;                </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,re.getAliasList()[i]);
        }
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// use the built in print method</font>
        printf(<font color="#ff00ff">&quot;Built In...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        re.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);



        <font color="#0000ff">// get the protocol information for protocol number 100000</font>
        re.initialize(<font color="#ff00ff">100000</font>);

        <font color="#0000ff">// print the components individually</font>
        printf(<font color="#ff00ff">&quot;Individually...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        printf(<font color="#ff00ff">&quot;        Name:           </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,re.getName());
        printf(<font color="#ff00ff">&quot;        Number:         </font><font color="#6a5acd">%d</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,re.getNumber());
        printf(<font color="#ff00ff">&quot;        Alias list:</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        <font color="#a52a2a"><b>for</b></font> (<font color="#2e8b57"><b>int</b></font> i=<font color="#ff00ff">0</font>; re.getAliasList()[i]; i++) {
                printf(<font color="#ff00ff">&quot;                </font><font color="#6a5acd">%s</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>,re.getAliasList()[i]);
        }
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);

        <font color="#0000ff">// use the built in print method</font>
        printf(<font color="#ff00ff">&quot;Built In...</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
        re.print();
        printf(<font color="#ff00ff">&quot;</font><font color="#6a5acd">\n</font><font color="#ff00ff">&quot;</font>);
}
</pre>

<a name="linkedlist"></a>
<span class="heading">Using the Linkedlist Class</span><br><br>

<p>The linkedlist class allows you to store arbitrary data in a doubly-linked
list.</p>

<p>Since lists of strings are commonly used, a stringlist typedef is
provided for convenience.</p>

<pre>
<font color="#0000ff">// Copyright (c) 2003  David Muse</font>
<font color="#0000ff">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/linkedlist.h&gt;</font>
<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font>     main(<font color="#288850"><b>int</b></font> argc, <font color="#288850"><b>char</b></font> **argv) {

        <font color="#0000f8">// create a list of integers</font>
        linkedlist&lt;<font color="#288850"><b>int</b></font>&gt;       intl;

        <font color="#0000f8">// append values to the list, displaying the list after each append</font>
        printf(<font color="#f800f8">&quot;append(0)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.append(<font color="#f800f8">0</font>);
        intl.print();

        printf(<font color="#f800f8">&quot;append(1)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.append(<font color="#f800f8">1</font>);
        intl.print();

        printf(<font color="#f800f8">&quot;append(3)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.append(<font color="#f800f8">3</font>);
        intl.print();

        <font color="#0000f8">// insert a value into the middle of the list, display the list</font>
        printf(<font color="#f800f8">&quot;insert(2,2)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.insert(<font color="#f800f8">2</font>,<font color="#f800f8">2</font>);
        intl.print();

        <font color="#0000f8">// remove values from the list, displaying the list after each removal</font>
        printf(<font color="#f800f8">&quot;removeByIndex(0)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.removeByIndex(<font color="#f800f8">0</font>);
        intl.print();

        printf(<font color="#f800f8">&quot;removeByData(3)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.removeByData(<font color="#f800f8">3</font>);
        intl.print();

        <font color="#0000f8">// change a value in the list, display the list</font>
        printf(<font color="#f800f8">&quot;setDataByIndex(1,50)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.setDataByIndex(<font color="#f800f8">1</font>,<font color="#f800f8">50</font>);
        intl.print();

        <font color="#0000f8">// clear the list, display the list</font>
        printf(<font color="#f800f8">&quot;clear()</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        intl.clear();
        intl.print();


        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n\n</font><font color="#f800f8">&quot;</font>);


        <font color="#0000f8">// create a list of strings</font>
        stringlist      strl;

        <font color="#0000f8">// append values to the list, displaying the list after each append</font>
        printf(<font color="#f800f8">&quot;append(zero)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.append(<font color="#f800f8">&quot;zero&quot;</font>);
        strl.print();

        printf(<font color="#f800f8">&quot;append(one)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.append(<font color="#f800f8">&quot;one&quot;</font>);
        strl.print();

        printf(<font color="#f800f8">&quot;append(three)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.append(<font color="#f800f8">&quot;three&quot;</font>);
        strl.print();

        <font color="#0000f8">// insert a value into the middle of the list, display the list</font>
        printf(<font color="#f800f8">&quot;insert(2,two)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.insert(<font color="#f800f8">2</font>,<font color="#f800f8">&quot;two&quot;</font>);
        strl.print();

        <font color="#0000f8">// remove values from the list, displaying the list after each removal</font>
        printf(<font color="#f800f8">&quot;removeByIndex(0)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.removeByIndex(<font color="#f800f8">0</font>);
        strl.print();

        printf(<font color="#f800f8">&quot;removeByData(three)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.removeByData(<font color="#f800f8">&quot;three&quot;</font>);
        strl.print();

        <font color="#0000f8">// change a value in the list, display the list</font>
        printf(<font color="#f800f8">&quot;setDataByIndex(1,fifty)</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.setDataByIndex(<font color="#f800f8">1</font>,<font color="#f800f8">&quot;fifty&quot;</font>);
        strl.print();

        <font color="#0000f8">// clear the list, display the list</font>
        printf(<font color="#f800f8">&quot;clear()</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
        strl.clear();
        strl.print();
}
</pre>

<a name="dictionary"></a>
<span class="heading">Using the Dictionary Class</span><br><br>

<p>The dictionary class allows you to store arbitrary key/value-pair data.</p>

<p>Since dictionaries with string and long integer keys and dictionaries with
string keys and values are commonly used, convenience classes are provided
for each.</p>

<pre>
<font color="#0000f8">// Copyright (c) 2003  David Muse</font>
<font color="#0000f8">// See the file COPYING for more information</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;rudiments/dictionary.h&gt;</font>

<font color="#a020f0">#include </font><font color="#f800f8">&lt;stdio.h&gt;</font>

<font color="#288850"><b>int</b></font> main(<font color="#288850"><b>int</b></font> argv, <font color="#288850"><b>const</b></font> <font color="#288850"><b>char</b></font> **argc) {

        <font color="#0000f8">// create a dictionary containing string keys and string values</font>
        namevaluepairs  dict;

        <font color="#0000f8">// add values to the dictionary</font>
        dict.setData(<font color="#f800f8">&quot;1&quot;</font>,<font color="#f800f8">&quot;one&quot;</font>);
        dict.setData(<font color="#f800f8">&quot;2&quot;</font>,<font color="#f800f8">&quot;two&quot;</font>);
        dict.setData(<font color="#f800f8">&quot;3&quot;</font>,<font color="#f800f8">&quot;three&quot;</font>);
        dict.setData(<font color="#f800f8">&quot;4&quot;</font>,<font color="#f800f8">&quot;four&quot;</font>);

        <font color="#0000f8">// display the length and contents of the dictionary</font>
        printf(<font color="#f800f8">&quot;length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,dict.getList()-&gt;getLength());
        dict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// remove values, displaying the dictionary after each removal</font>
        dict.removeData(<font color="#f800f8">&quot;3&quot;</font>);
        dict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        dict.removeData(<font color="#f800f8">&quot;2&quot;</font>);
        dict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        dict.removeData(<font color="#f800f8">&quot;4&quot;</font>);
        dict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        dict.removeData(<font color="#f800f8">&quot;1&quot;</font>);
        dict.print();



        <font color="#0000f8">// create a dictionary containing long integer keys and string values</font>
        numericdictionary&lt;<font color="#288850"><b>char</b></font> *&gt;       numdict;

        <font color="#0000f8">// add values to the dictionary</font>
        numdict.setData(<font color="#f800f8">1</font>,<font color="#f800f8">&quot;one&quot;</font>);
        numdict.setData(<font color="#f800f8">2</font>,<font color="#f800f8">&quot;two&quot;</font>);
        numdict.setData(<font color="#f800f8">3</font>,<font color="#f800f8">&quot;three&quot;</font>);
        numdict.setData(<font color="#f800f8">4</font>,<font color="#f800f8">&quot;four&quot;</font>);

        <font color="#0000f8">// display the length and contents of the dictionary</font>
        printf(<font color="#f800f8">&quot;length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,numdict.getList()-&gt;getLength());
        numdict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// remove values, displaying the dictionary after each removal</font>
        numdict.removeData(<font color="#f800f8">3</font>);
        numdict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        numdict.removeData(<font color="#f800f8">2</font>);
        numdict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        numdict.removeData(<font color="#f800f8">4</font>);
        numdict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        numdict.removeData(<font color="#f800f8">1</font>);
        numdict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);



        <font color="#0000f8">// create a dictionary containing double precision</font>
        <font color="#0000f8">// floating point keys and string values</font>
        dictionary&lt;<font color="#288850"><b>double</b></font>,<font color="#288850"><b>char</b></font> *&gt;       doubledict;

        <font color="#0000f8">// add values to the dictionary</font>
        doubledict.setData(<font color="#f800f8">1.1</font>,<font color="#f800f8">&quot;one point one&quot;</font>);
        doubledict.setData(<font color="#f800f8">2.2</font>,<font color="#f800f8">&quot;two point two&quot;</font>);
        doubledict.setData(<font color="#f800f8">3.3</font>,<font color="#f800f8">&quot;three point three&quot;</font>);
        doubledict.setData(<font color="#f800f8">4.4</font>,<font color="#f800f8">&quot;four point four&quot;</font>);

        <font color="#0000f8">// display the length and contents of the dictionary</font>
        printf(<font color="#f800f8">&quot;length: </font><font color="#6858c8">%d</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>,doubledict.getList()-&gt;getLength());
        doubledict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        <font color="#0000f8">// remove values, displaying the dictionary after each removal</font>
        doubledict.removeData(<font color="#f800f8">3.3</font>);
        doubledict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        doubledict.removeData(<font color="#f800f8">2.2</font>);
        doubledict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        doubledict.removeData(<font color="#f800f8">4.4</font>);
        doubledict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);

        doubledict.removeData(<font color="#f800f8">1.1</font>);
        doubledict.print();
        printf(<font color="#f800f8">&quot;</font><font color="#6858c8">\n</font><font color="#f800f8">&quot;</font>);
}
</pre>

</body>
</html>
